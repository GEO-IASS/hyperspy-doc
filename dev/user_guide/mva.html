

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Machine learning &mdash; HyperSpy 0.8.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy_logo.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="HyperSpy 0.8.2 documentation" href="../index.html"/>
        <link rel="up" title="HyperSpy User Guide (DRAFT)" href="index.html"/>
        <link rel="next" title="Curve fitting" href="model.html"/>
        <link rel="prev" title="Data visualization" href="visualisation.html"/>
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> HyperSpy
        

        
          
          <img src="../_static/hyperspy_logo.png" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">HyperSpy User Guide (DRAFT)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="intro.html#what-is-hyperspy">What is HyperSpy</a></li>
<li class="toctree-l3"><a class="reference internal" href="intro.html#our-vision">Our vision</a></li>
<li class="toctree-l3"><a class="reference internal" href="intro.html#hyperspy-s-character">HyperSpy&#8217;s character</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="what_is_new.html">What&#8217;s new</a><ul>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-8-2">v0.8.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-8-1">v0.8.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#new-features">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#api-changes">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-8">v0.8</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id1">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id2">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-7-3">v0.7.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-7-2">v0.7.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-7-1">v0.7.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id5">New features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-7">v0.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id7">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id12">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-6">v0.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id13">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id14">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-5-1">v0.5.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id15">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#major-bugs-fixed">Major bugs fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id16">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-5">v0.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id17">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id18">Major bugs fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id19">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-4-1">v0.4.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id20">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id21">Bugs fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#syntax-changes">Syntax changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="what_is_new.html#v0-4">v0.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id22">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id23">Bugs fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="what_is_new.html#id24">Syntax changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html">Installing HyperSpy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#quick-instructions-to-install-hyperspy-in-windows">Quick instructions to install HyperSpy in Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#quick-instructions-to-install-hyperspy-macos">Quick instructions to install HyperSpy MacOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#install-using-python-installers">Install using Python installers</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#install-from-a-binary">Install from a binary</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#install-from-source">Install from source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#released-version">Released version</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#development-version">Development version</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#creating-debian-ubuntu-binaries">Creating Debian/Ubuntu binaries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="install.html#installing-the-required-libraries">Installing the required libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#known-issues">Known issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#windows">Windows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#starting-hyperspy">Starting HyperSpy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started.html#starting-hyperspy-from-the-terminal">Starting HyperSpy from the terminal</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started.html#starting-hyperspy-from-the-context-menu">Starting HyperSpy from the context menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started.html#hyperspy-ipython-magic">HyperSpy IPython magic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#getting-help">Getting help</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#autocompletion">Autocompletion</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#loading-data">Loading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#loading-data-from-a-numpy-array">&#8220;Loading&#8221; data from a numpy array</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#the-navigation-and-signal-dimensions">The navigation and signal dimensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#setting-axis-properties">Setting axis properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#saving-files">Saving Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#accessing-and-setting-the-metadata">Accessing and setting the metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#configuring-hyperspy">Configuring HyperSpy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Tools: the Signal class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tools.html#the-signal-class-and-its-subclasses">The Signal class and its subclasses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tools.html#transforming-between-signal-subclasses">Transforming between signal subclasses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tools.html#the-navigation-and-signal-dimensions">The navigation and signal dimensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="tools.html#binned-and-unbinned-signals">Binned and unbinned signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="tools.html#generic-tools">Generic tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tools.html#indexing">Indexing</a></li>
<li class="toctree-l4"><a class="reference internal" href="tools.html#signal-operations">Signal operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="tools.html#iterating-over-the-navigation-axes">Iterating over the navigation axes</a></li>
<li class="toctree-l4"><a class="reference internal" href="tools.html#cropping">Cropping</a></li>
<li class="toctree-l4"><a class="reference internal" href="tools.html#rebinning">Rebinning</a></li>
<li class="toctree-l4"><a class="reference internal" href="tools.html#folding-and-unfolding">Folding and unfolding</a></li>
<li class="toctree-l4"><a class="reference internal" href="tools.html#splitting-and-stacking">Splitting and stacking</a></li>
<li class="toctree-l4"><a class="reference internal" href="tools.html#simple-operations-over-one-axis">Simple operations over one axis</a></li>
<li class="toctree-l4"><a class="reference internal" href="tools.html#changing-the-data-type">Changing the data type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tools.html#basic-statistical-analysis">Basic statistical analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="tools.html#setting-the-noise-properties">Setting the noise properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spectrum.html">Spectrum tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spectrum.html#cropping">Cropping</a></li>
<li class="toctree-l3"><a class="reference internal" href="spectrum.html#background-removal">Background removal</a></li>
<li class="toctree-l3"><a class="reference internal" href="spectrum.html#calibration">Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="spectrum.html#spectral-alignment">Spectral alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="spectrum.html#integration">Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="spectrum.html#data-smoothing">Data smoothing</a></li>
<li class="toctree-l3"><a class="reference internal" href="spectrum.html#spikes-removal">Spikes removal</a></li>
<li class="toctree-l3"><a class="reference internal" href="spectrum.html#other-methods">Other methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="image.html">Image tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="image.html#image-registration-alignment">Image registration (alignment)</a></li>
<li class="toctree-l3"><a class="reference internal" href="image.html#cropping-an-image">Cropping an image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="visualisation.html">Data visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="visualisation.html#multidimensional-spectral-data">Multidimensional spectral data</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualisation.html#multidimensional-image-data">Multidimensional image data</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualisation.html#customising-image-plot">Customising image plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualisation.html#customizing-the-navigator">Customizing the &#8220;navigator&#8221;</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualisation.html#using-mayavi-to-visualize-3d-data">Using Mayavi to visualize 3D data</a></li>
<li class="toctree-l3"><a class="reference internal" href="visualisation.html#plotting-multiple-signals">Plotting multiple signals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="visualisation.html#plotting-several-images">Plotting several images</a></li>
<li class="toctree-l4"><a class="reference internal" href="visualisation.html#plotting-several-spectra">Plotting several spectra</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="visualisation.html#markers">Markers</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Machine learning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nomenclature">Nomenclature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#decomposition">Decomposition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#poissonian-noise">Poissonian noise</a></li>
<li class="toctree-l4"><a class="reference internal" href="#principal-component-analysis">Principal component analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-denoising-dimensionality-reductions">Data denoising (dimensionality reductions)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#blind-source-separation">Blind Source Separation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualising-results">Visualising results</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obtaining-the-results-as-signal-instances">Obtaining the results as Signal instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="#saving-and-loading-results">Saving and loading results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#saving-in-the-main-file">Saving in the main file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#saving-to-an-external-files">Saving to an external files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exporting">Exporting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model.html">Curve fitting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model.html#creating-a-model">Creating a model</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#adding-components-to-the-model">Adding components to the model</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#getting-and-setting-parameter-values-and-attributes">Getting and setting parameter values and attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#fitting-the-model-to-the-data">Fitting the model to the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#visualizing-the-model">Visualizing the model</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#setting-the-initial-parameters">Setting the initial parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#exclude-data-from-the-fitting-process">Exclude data from the fitting process</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#fitting-multidimensional-datasets">Fitting multidimensional datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#visualising-the-result-of-the-fit">Visualising the result of the fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#saving-and-loading-the-result-of-the-fit">Saving and loading the result of the fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#exporting-the-result-of-the-fit">Exporting the result of the fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html#batch-setting-of-parameter-attributes">Batch setting of parameter attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="eels.html">Electron Energy Loss Spectroscopy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="eels.html#tools-for-eels-data-analysis">Tools for EELS data analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="eels.html#elemental-composition-of-the-sample">Elemental composition of the sample</a></li>
<li class="toctree-l4"><a class="reference internal" href="eels.html#thickness-estimation">Thickness estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="eels.html#zero-loss-peak-centre-and-alignment">Zero-loss peak centre and alignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="eels.html#deconvolutions">Deconvolutions</a></li>
<li class="toctree-l4"><a class="reference internal" href="eels.html#estimate-elastic-scattering-intensity">Estimate elastic scattering intensity</a></li>
<li class="toctree-l4"><a class="reference internal" href="eels.html#kramers-kronig-analysis">Kramers-Kronig Analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="eels.html#eels-curve-fitting">EELS curve fitting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="eds.html">Energy-Dispersive X-Rays Spectrometry (EDS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="eds.html#spectrum-loading-and-parameters">Spectrum loading and parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="eds.html#loading">Loading</a></li>
<li class="toctree-l4"><a class="reference internal" href="eds.html#microscope-and-detector-parameters">Microscope and detector parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="eds.html#energy-axis">Energy axis</a></li>
<li class="toctree-l4"><a class="reference internal" href="eds.html#related-method">Related method</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="eds.html#describing-the-sample">Describing the sample</a><ul>
<li class="toctree-l4"><a class="reference internal" href="eds.html#elements">Elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="eds.html#x-ray-lines">X-ray lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="eds.html#element-database">Element database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="eds.html#plotting">Plotting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="eds.html#plot-x-ray-lines">Plot X-ray lines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="eds.html#get-lines-intensity">Get lines intensity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="eds.html#background-subtraction">Background subtraction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="eds.html#quantification">Quantification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dielectric_function.html">Dielectric function tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dielectric_function.html#number-of-effective-electrons">Number of effective electrons</a></li>
<li class="toctree-l3"><a class="reference internal" href="dielectric_function.html#compute-the-electron-energy-loss-signal">Compute the electron energy-loss signal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="io.html">Loading and saving data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="io.html#loading-files-the-load-function">Loading files: the load function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="io.html#loading-multiple-files">Loading multiple files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="io.html#saving-data-to-files">Saving data to files</a></li>
<li class="toctree-l3"><a class="reference internal" href="io.html#supported-formats">Supported formats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="io.html#hdf5">HDF5</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#netcdf">NetCDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#mrc">MRC</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#emsa-msa">EMSA/MSA</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#ripple">Ripple</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#images">Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#tiff">TIFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#gatan-digital-micrograph">Gatan Digital Micrograph</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html#fei-tia-ser-and-emi">FEI TIA ser and emi</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="metadata_structure.html">Metadata structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="metadata_structure.html#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="metadata_structure.html#acquisition-instrument">Acquisition_instrument</a><ul>
<li class="toctree-l4"><a class="reference internal" href="metadata_structure.html#tem">TEM</a></li>
<li class="toctree-l4"><a class="reference internal" href="metadata_structure.html#sem">SEM</a></li>
<li class="toctree-l4"><a class="reference internal" href="metadata_structure.html#detector">Detector</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="metadata_structure.html#sample">Sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="metadata_structure.html#signal">Signal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="metadata_structure.html#noise-properties">Noise_properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="metadata_structure.html#internal-parameters">_Internal_parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="metadata_structure.html#stacking-history">Stacking_history</a></li>
<li class="toctree-l4"><a class="reference internal" href="metadata_structure.html#folding">Folding</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bibliography.html">Bibliography</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bibliography.html#id1">Bibliography</a></li>
<li class="toctree-l3"><a class="reference internal" href="bibliography.html#peer-review-articles-with-results-obtained-using-hyperspy">Peer-review articles with results obtained using HyperSpy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">HyperSpy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">HyperSpy User Guide (DRAFT)</a> &raquo;</li>
      
    <li>Machine learning</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/user_guide/mva.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="machine-learning">
<h1>Machine learning<a class="headerlink" href="#machine-learning" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>HyperSpy provides easy access to several &#8220;machine learning&#8221; algorithms which
can be useful when analysing multidimensional data. In particular, decomposition
algorithms such as principal component analysis (PCA) or blind source
separation (BSS) algorithms such as independent component analysis (ICA) are
available through the methods described in this section.</p>
<p>The behaviour of some machine learning operations can be customised
<a class="reference internal" href="getting_started.html#configuring-hyperspy-label"><span>customised</span></a> in the Machine Learning section
Preferences.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently the BSS algorithms operate on the result of a previous
decomposition analysis. Therefore, it is necessary to perform a
decomposition before attempting to perform a BSS.</p>
</div>
</div>
<div class="section" id="nomenclature">
<span id="decomposition-nomenclature"></span><h2>Nomenclature<a class="headerlink" href="#nomenclature" title="Permalink to this headline">¶</a></h2>
<p>HyperSpy performs the decomposition of a dataset into two new datasets: one
with the dimension of the signal space which we will call <cite>factors</cite> and the
other with the dimension of the navigation space which we will call <cite>loadings</cite>.
The same nomenclature applies to the result of BSS.</p>
</div>
<div class="section" id="decomposition">
<span id="id1"></span><h2>Decomposition<a class="headerlink" href="#decomposition" title="Permalink to this headline">¶</a></h2>
<p>There are several methods to decompose a matrix or tensor into several factors.
The decomposition is most commonly applied as a means of noise reduction and
dimensionality reduction. One of the most popular decomposition methods is
principal component analysis (PCA). To perform PCA on your data set, run the
<a class="reference internal" href="../api/hyperspy.learn.html#hyperspy.learn.mva.MVA.decomposition" title="hyperspy.learn.mva.MVA.decomposition"><code class="xref py py-meth docutils literal"><span class="pre">decomposition()</span></code></a> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">decomposition</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that the <cite>s</cite> variable must contain a <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal"><code class="xref py py-class docutils literal"><span class="pre">Signal</span></code></a>  class or
any of its subclasses which most likely has been previously loaded with the
<a class="reference internal" href="../api/hyperspy.html#hyperspy.io.load" title="hyperspy.io.load"><code class="xref py py-func docutils literal"><span class="pre">load()</span></code></a> function, e.g. <code class="docutils literal"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">load('my_file.hdf5')</span></code>. Also, the signal must be
multidimensional, i.e. <code class="docutils literal"><span class="pre">s.axes_manager.navigation_size</span></code> must be greater than
one.</p>
<p>Several algorithms exist for performing this analysis. The default algorithm in
HyperSpy is <code class="xref py py-const docutils literal"><span class="pre">SVD</span></code>, which performs PCA using an approach called
&#8220;singular value decomposition&#8221;. This method has many options. For more details
read method documentation.</p>
<div class="section" id="poissonian-noise">
<h3>Poissonian noise<a class="headerlink" href="#poissonian-noise" title="Permalink to this headline">¶</a></h3>
<p>Most decomposition algorithms assume that the noise of the data follows a
Gaussian distribution. In the case that the data that you are analysing follow
a Poissonian distribution instead, HyperSpy can &#8220;normalize&#8221; the data by
performing a scaling operation which can greatly enhance the result.</p>
<p>To perform Poissonian noise normalisation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">The</span> <span class="nb">long</span> <span class="n">way</span><span class="p">:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">decomposition</span><span class="p">(</span><span class="n">normalize_poissonian_noise</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">Because</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">first</span> <span class="n">argument</span> <span class="n">we</span> <span class="n">cold</span> <span class="n">have</span> <span class="n">simply</span> <span class="n">written</span><span class="p">:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">decomposition</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>For more details about the scaling procedure you can read the <a class="reference external" href="http://onlinelibrary.wiley.com/doi/10.1002/sia.1657/abstract">following
research article</a></p>
</div>
<div class="section" id="principal-component-analysis">
<h3>Principal component analysis<a class="headerlink" href="#principal-component-analysis" title="Permalink to this headline">¶</a></h3>
<div class="section" id="scree-plot">
<span id="id2"></span><h4>Scree plot<a class="headerlink" href="#scree-plot" title="Permalink to this headline">¶</a></h4>
<p>PCA essentially sorts the components in the data in order of decreasing
variance. It is often useful to estimate the dimensionality of the data by
plotting the explained variance against the component index in a logarithmic
y-scale. This plot is sometimes called scree-plot and it should drop quickly,
eventually becoming a slowly descending line. The point at which it becomes
linear (often referred to as an elbow) is generally judged to be a good
estimation of the dimensionality of the data (or equivalently, the number of
components that should be retained - see below).</p>
<p>To obtain a scree plot, run the
<a class="reference internal" href="../api/hyperspy.learn.html#hyperspy.learn.mva.MVA.plot_explained_variance_ratio" title="hyperspy.learn.mva.MVA.plot_explained_variance_ratio"><code class="xref py py-meth docutils literal"><span class="pre">plot_explained_variance_ratio()</span></code></a> method e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">plot_explained_variance_ratio</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../_images/screeplot.png"><img alt="../_images/screeplot.png" src="../_images/screeplot.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">PCA scree plot.</span></p>
</div>
<p>Note that in the figure, the first component has index 0. This is because
Python uses zero based indexing i.e. the initial element of a sequence is found
using index 0.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7.</span></p>
</div>
<p>Sometimes it can be useful to get the explained variance ratio as a spectrum,
e.g. to store it separetely or to plot several scree plots obtained using
different data pre-treatment in the same figure using
<a class="reference internal" href="../api/hyperspy.drawing.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal"><span class="pre">plot_spectra()</span></code></a>. For that you can use
<a class="reference internal" href="../api/hyperspy.learn.html#hyperspy.learn.mva.MVA.get_explained_variance_ratio" title="hyperspy.learn.mva.MVA.get_explained_variance_ratio"><code class="xref py py-meth docutils literal"><span class="pre">get_explained_variance_ratio()</span></code></a></p>
</div>
</div>
<div class="section" id="data-denoising-dimensionality-reductions">
<h3>Data denoising (dimensionality reductions)<a class="headerlink" href="#data-denoising-dimensionality-reductions" title="Permalink to this headline">¶</a></h3>
<p>One of the most popular uses of PCA is data denoising. The denoising property
is achieved by using a limited set of components to make a model of the
original, omitting the later components that ideally contain only noise. This
is know as <em>dimensionality reduction</em>.</p>
<p>To perform this operation with HyperSpy, run the
<a class="reference internal" href="../api/hyperspy.learn.html#hyperspy.learn.mva.MVA.get_decomposition_model" title="hyperspy.learn.mva.MVA.get_decomposition_model"><code class="xref py py-meth docutils literal"><span class="pre">get_decomposition_model()</span></code></a> method, usually after
estimating the dimension of your data e.g. by using the <a class="reference internal" href="#scree-plot"><span>Scree plot</span></a>. For
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get_decomposition_model</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The components argument can be one of several things (None, int,
or list of ints):</p>
<ul class="last simple">
<li>if None, all the components are used to construct the model.</li>
<li>if int, only the given number of components (starting from index 0) are
used to construct the model.</li>
<li>if list of ints, only the components in the given list are used to
construct the model.</li>
</ul>
</div>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Unlike most of the analysis functions, this function returns a new
object, which in the example above we have called &#8216;sc&#8217;. (The name of
the variable is totally arbitrary and you can choose it at your will).
You can perform operations on this new object later. It is a copy of the
original <code class="xref py py-const docutils literal"><span class="pre">s</span></code> object, except that the data has been replaced by
the model constructed using the chosen components.</p>
</div>
<p>Sometimes it is useful to examine the residuals between your original data and
the decomposition model. You can easily compute and display the residuals
in one single line of code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">sc</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="blind-source-separation">
<h2>Blind Source Separation<a class="headerlink" href="#blind-source-separation" title="Permalink to this headline">¶</a></h2>
<p>In some cases (it largely depends on the particular application) it is possible
to obtain more physically meaningful components from the result of a data
decomposition by a process called Blind Source Separation (BSS). For more
information about the blind source separation you can read the <a class="reference external" href="http://www.sciencedirect.com/science/article/pii/S0893608000000265">following
introductory article</a> or <a class="reference external" href="http://www.sciencedirect.com/science/article/pii/S030439911000255X">this
other article</a> from the
authors of HyperSpy for an application to EELS analysis.</p>
<p>To perform BSS on the result of a decomposition, run the
<a class="reference internal" href="../api/hyperspy.learn.html#hyperspy.learn.mva.MVA.blind_source_separation" title="hyperspy.learn.mva.MVA.blind_source_separation"><code class="xref py py-meth docutils literal"><span class="pre">blind_source_separation()</span></code></a> method, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s</span><span class="o">.</span><span class="n">blind_source_separation</span><span class="p">(</span><span class="n">number_of_components</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must have performed a <a class="reference internal" href="#decomposition"><span>Decomposition</span></a> before you attempt to
perform BSS.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must pass an integer number of components to ICA.  The best
way to estimate this number in the case of a PCA decomposition is by
inspecting the <a class="reference internal" href="#scree-plot"><span>Scree plot</span></a>.</p>
</div>
</div>
<div class="section" id="visualising-results">
<span id="mva-visualization"></span><h2>Visualising results<a class="headerlink" href="#visualising-results" title="Permalink to this headline">¶</a></h2>
<p>Plot methods exist for the results of decomposition and blind source separation.
All the methods begin with &#8220;plot&#8221;:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.plot_decomposition_results" title="hyperspy.signal.MVATools.plot_decomposition_results"><code class="xref py py-meth docutils literal"><span class="pre">plot_decomposition_results()</span></code></a>.</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.plot_decomposition_factors" title="hyperspy.signal.MVATools.plot_decomposition_factors"><code class="xref py py-meth docutils literal"><span class="pre">plot_decomposition_factors()</span></code></a>.</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.plot_decomposition_loadings" title="hyperspy.signal.MVATools.plot_decomposition_loadings"><code class="xref py py-meth docutils literal"><span class="pre">plot_decomposition_loadings()</span></code></a>.</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.plot_bss_results" title="hyperspy.signal.MVATools.plot_bss_results"><code class="xref py py-meth docutils literal"><span class="pre">plot_bss_results()</span></code></a>.</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.plot_bss_factors" title="hyperspy.signal.MVATools.plot_bss_factors"><code class="xref py py-meth docutils literal"><span class="pre">plot_bss_factors()</span></code></a>.</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.plot_bss_loadings" title="hyperspy.signal.MVATools.plot_bss_loadings"><code class="xref py py-meth docutils literal"><span class="pre">plot_bss_loadings()</span></code></a>.</li>
</ol>
<p>1 and 4 (new in version 0.7) provide a more compact way of displaying the
results. All the other methods display each component in its own window. For 2
and 3 it is wise to provide the number of factors or loadings you wish to
visualise, since the default is plot all. For BSS the default is the number you
included when running the <a class="reference internal" href="../api/hyperspy.learn.html#hyperspy.learn.mva.MVA.blind_source_separation" title="hyperspy.learn.mva.MVA.blind_source_separation"><code class="xref py py-meth docutils literal"><span class="pre">blind_source_separation()</span></code></a>
method.</p>
</div>
<div class="section" id="obtaining-the-results-as-signal-instances">
<span id="mva-get-results"></span><h2>Obtaining the results as Signal instances<a class="headerlink" href="#obtaining-the-results-as-signal-instances" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7.</span></p>
</div>
<p>The decomposition and BSS results are internally stored in the
<a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal"><code class="xref py py-class docutils literal"><span class="pre">Signal</span></code></a> class where all the methods discussed in this
chapter can find them. However, they are stored as numpy array. Frequently it
is useful to obtain the decomposition/BSS factors and loadings as HyperSpy
signals and HyperSpy provides the following four methods for that pourpose:</p>
<ul class="simple">
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.get_decomposition_loadings" title="hyperspy.signal.MVATools.get_decomposition_loadings"><code class="xref py py-meth docutils literal"><span class="pre">get_decomposition_loadings()</span></code></a>.</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.get_decomposition_factors" title="hyperspy.signal.MVATools.get_decomposition_factors"><code class="xref py py-meth docutils literal"><span class="pre">get_decomposition_factors()</span></code></a>.</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.get_bss_loadings" title="hyperspy.signal.MVATools.get_bss_loadings"><code class="xref py py-meth docutils literal"><span class="pre">get_bss_loadings()</span></code></a>.</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.get_bss_factors" title="hyperspy.signal.MVATools.get_bss_factors"><code class="xref py py-meth docutils literal"><span class="pre">get_bss_factors()</span></code></a>.</li>
</ul>
</div>
<div class="section" id="saving-and-loading-results">
<h2>Saving and loading results<a class="headerlink" href="#saving-and-loading-results" title="Permalink to this headline">¶</a></h2>
<p>There are several methods for storing  the result of a machine learning
analysis.</p>
<div class="section" id="saving-in-the-main-file">
<h3>Saving in the main file<a class="headerlink" href="#saving-in-the-main-file" title="Permalink to this headline">¶</a></h3>
<p>When you save the object on which you&#8217;ve performed machine learning analysis in
the <a class="reference internal" href="io.html#hdf5-format"><span>HDF5</span></a> format (the default in HyperSpy) (see
<a class="reference internal" href="io.html#saving-files"><span>Saving data to files</span></a>) the result of the analysis is automatically saved in the
file and it is loaded with the rest of the data when you load the file.</p>
<p>This option is the simplest because everything is stored in the same file and
it does not require any extra command to recover the result of machine learning
analysis when loading a file. However, currently it only supports storing one
decomposition and one BSS result, which may not be enough for your purposes.</p>
</div>
<div class="section" id="saving-to-an-external-files">
<h3>Saving to an external files<a class="headerlink" href="#saving-to-an-external-files" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, to save the results of the current machine learning analysis to
a file you can use the <a class="reference internal" href="../api/hyperspy.learn.html#hyperspy.learn.mva.LearningResults.save" title="hyperspy.learn.mva.LearningResults.save"><code class="xref py py-meth docutils literal"><span class="pre">save()</span></code></a> method,
e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Save</span> <span class="n">the</span> <span class="n">result</span> <span class="n">of</span> <span class="n">the</span> <span class="n">analysis</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">learning_results</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;my_results&#39;</span><span class="p">)</span>

<span class="n">Load</span> <span class="n">back</span> <span class="n">the</span> <span class="n">results</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">learning_results</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&#39;my_results.npz&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="exporting">
<h3>Exporting<a class="headerlink" href="#exporting" title="Permalink to this headline">¶</a></h3>
<p>It is possible to export the results of machine learning to any format
supported by HyperSpy using:</p>
<ul class="simple">
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.export_decomposition_results" title="hyperspy.signal.MVATools.export_decomposition_results"><code class="xref py py-meth docutils literal"><span class="pre">export_decomposition_results()</span></code></a> or</li>
<li><a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.MVATools.export_bss_results" title="hyperspy.signal.MVATools.export_bss_results"><code class="xref py py-meth docutils literal"><span class="pre">export_bss_results()</span></code></a>.</li>
</ul>
<p>These methods accept many arguments which can be used to customise the way the
data is exported, so please consult the method documentation. The options
include the choice of file format, the prefixes for loadings and factors,
saving figures instead of data and more.</p>
<p>Please note that the exported data cannot easily be loaded into HyperSpy&#8217;s
machine learning structure.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="model.html" class="btn btn-neutral float-right" title="Curve fitting" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="visualisation.html" class="btn btn-neutral" title="Data visualization" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2015, The HyperSpy development team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.8.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/copybutton.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>