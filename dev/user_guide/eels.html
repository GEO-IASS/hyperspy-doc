<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Electron Energy Loss Spectroscopy &mdash; HyperSpy 0.8+dev documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8+dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/hyperspy_logo.ico"/>
    <link rel="top" title="HyperSpy 0.8+dev documentation" href="../index.html" />
    <link rel="up" title="HyperSpy User Guide (DRAFT)" href="index.html" />
    <link rel="next" title="Energy-Dispersive X-Rays Spectrometry (EDS)" href="eds.html" />
    <link rel="prev" title="Curve fitting" href="model.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="eds.html" title="Energy-Dispersive X-Rays Spectrometry (EDS)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="model.html" title="Curve fitting"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">HyperSpy 0.8+dev documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">HyperSpy User Guide (DRAFT)</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="electron-energy-loss-spectroscopy">
<h1>Electron Energy Loss Spectroscopy<a class="headerlink" href="#electron-energy-loss-spectroscopy" title="Permalink to this headline">¶</a></h1>
<div class="section" id="tools-for-eels-data-analysis">
<span id="eels-tools-label"></span><h2>Tools for EELS data analysis<a class="headerlink" href="#tools-for-eels-data-analysis" title="Permalink to this headline">¶</a></h2>
<p>The functions described in this chapter are only available for the
<a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum" title="hyperspy._signals.eels.EELSSpectrum"><tt class="xref py py-class docutils literal"><span class="pre">EELSSpectrum</span></tt></a> class. To transform a
<a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal"><tt class="xref py py-class docutils literal"><span class="pre">Signal</span></tt></a> (or subclass) into a
<a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum" title="hyperspy._signals.eels.EELSSpectrum"><tt class="xref py py-class docutils literal"><span class="pre">EELSSpectrum</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_signal_type</span><span class="p">(</span><span class="s">&quot;EELS&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note these chapter discusses features that are available only for
<a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum" title="hyperspy._signals.eels.EELSSpectrum"><tt class="xref py py-class docutils literal"><span class="pre">EELSSpectrum</span></tt></a> class. However, this class inherits
many useful feature from its parent class that are documented in previous
chapters.</p>
<div class="section" id="elemental-composition-of-the-sample">
<h3>Elemental composition of the sample<a class="headerlink" href="#elemental-composition-of-the-sample" title="Permalink to this headline">¶</a></h3>
<p>It can be useful to define the elemental composition of the sample for
archiving purposes or to use some feature (e.g. curve fitting) that requieres
this information.  The elemental composition of the sample can be declared
using <a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.add_elements" title="hyperspy._signals.eels.EELSSpectrum.add_elements"><tt class="xref py py-meth docutils literal"><span class="pre">add_elements()</span></tt></a>. The information is
stored in the <tt class="xref py py-attr docutils literal"><span class="pre">metadata</span></tt> attribute (see
<a class="reference internal" href="metadata_structure.html#metadata-structure"><em>Metadata structure</em></a>). This information is saved to file when saving in
the hdf5 format.</p>
</div>
<div class="section" id="thickness-estimation">
<h3>Thickness estimation<a class="headerlink" href="#thickness-estimation" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.estimate_thickness" title="hyperspy._signals.eels.EELSSpectrum.estimate_thickness"><tt class="xref py py-meth docutils literal"><span class="pre">estimate_thickness()</span></tt></a> can estimate the
thickness from a low-loss EELS spectrum using the Log-Ratio method.</p>
</div>
<div class="section" id="zero-loss-peak-centre-and-alignment">
<h3>Zero-loss peak centre and alignment<a class="headerlink" href="#zero-loss-peak-centre-and-alignment" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.estimate_zero_loss_peak_centre" title="hyperspy._signals.eels.EELSSpectrum.estimate_zero_loss_peak_centre"><tt class="xref py py-meth docutils literal"><span class="pre">estimate_zero_loss_peak_centre()</span></tt></a> can be used to estimate the position of the zero-loss peak. The method assumes that the ZLP is the most intense feature in the spectra. For a more general approach see <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal1DTools.find_peaks1D_ohaver" title="hyperspy.signal.Signal1DTools.find_peaks1D_ohaver"><tt class="xref py py-meth docutils literal"><span class="pre">find_peaks1D_ohaver()</span></tt></a>.</p>
<p>The <a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.align_zero_loss_peak" title="hyperspy._signals.eels.EELSSpectrum.align_zero_loss_peak"><tt class="xref py py-meth docutils literal"><span class="pre">align_zero_loss_peak()</span></tt></a> can
align the ZLP with subpixel accuracy. It is more robust and easy to use than
<a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal1DTools.align1D" title="hyperspy.signal.Signal1DTools.align1D"><tt class="xref py py-meth docutils literal"><span class="pre">align1D()</span></tt></a> for the task. Note that it is possible to apply the same alignment to other spectra using the <cite>also_align</cite> argument. This can be useful e.g. to align core-loss spectra acquired quasi-simultaneously.</p>
</div>
<div class="section" id="deconvolutions">
<h3>Deconvolutions<a class="headerlink" href="#deconvolutions" title="Permalink to this headline">¶</a></h3>
<p>Three deconvolution methods are currently available:</p>
<ul class="simple">
<li><a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.fourier_log_deconvolution" title="hyperspy._signals.eels.EELSSpectrum.fourier_log_deconvolution"><tt class="xref py py-meth docutils literal"><span class="pre">fourier_log_deconvolution()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.fourier_ratio_deconvolution" title="hyperspy._signals.eels.EELSSpectrum.fourier_ratio_deconvolution"><tt class="xref py py-meth docutils literal"><span class="pre">fourier_ratio_deconvolution()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.richardson_lucy_deconvolution" title="hyperspy._signals.eels.EELSSpectrum.richardson_lucy_deconvolution"><tt class="xref py py-meth docutils literal"><span class="pre">richardson_lucy_deconvolution()</span></tt></a></li>
</ul>
</div>
<div class="section" id="estimate-elastic-scattering-intensity">
<h3>Estimate elastic scattering intensity<a class="headerlink" href="#estimate-elastic-scattering-intensity" title="Permalink to this headline">¶</a></h3>
<p>The
<a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_intensity" title="hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_intensity"><tt class="xref py py-meth docutils literal"><span class="pre">estimate_elastic_scattering_intensity()</span></tt></a>
can be used to calculate the integral of the zero loss peak (elastic intensity)
from EELS low-loss spectra containing the zero loss peak using the
(rudimentary) threshold method. The threshold can be global or spectrum-wise.
If no threshold is provided it is automatically calculated using
<a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_threshold" title="hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_threshold"><tt class="xref py py-meth docutils literal"><span class="pre">estimate_elastic_scattering_threshold()</span></tt></a>
with default values.</p>
<p><a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_threshold" title="hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_threshold"><tt class="xref py py-meth docutils literal"><span class="pre">estimate_elastic_scattering_threshold()</span></tt></a>
can be used to  calculate separation point between elastic and inelastic
scattering on EELS low-loss spectra. This algorithm calculates the derivative
of the signal and assigns the inflexion point to the first point below a
certain tolerance.  This tolerance value can be set using the <cite>tol</cite> keyword.
Currently, the method uses smoothing to reduce the impact of the noise in the
measure. The number of points used for the smoothing window can be specified by
the npoints keyword.</p>
</div>
<div class="section" id="kramers-kronig-analysis">
<span id="eels-kk"></span><h3>Kramers-Kronig Analysis<a class="headerlink" href="#kramers-kronig-analysis" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7.</span></p>
</div>
<p>The single-scattering EEL spectrum is approximately related to the complex
permittivity of the sample and can be estimated by Kramers-Kronig analysis.
The <a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eels.EELSSpectrum.kramers_kronig_analysis" title="hyperspy._signals.eels.EELSSpectrum.kramers_kronig_analysis"><tt class="xref py py-meth docutils literal"><span class="pre">kramers_kronig_analysis()</span></tt></a> method
inplements the Kramers-Kronig FFT method as in <a class="reference internal" href="../api/hyperspy._signals.html#id4" id="id1">[Egerton2011]</a> to estimate the
complex dielectric funtion from a low-loss EELS spectrum. In addition, it can
estimate the thickness if the refractive index is known and approximately
correct for surface plasmon excitations in layers.</p>
</div>
</div>
<div class="section" id="eels-curve-fitting">
<h2>EELS curve fitting<a class="headerlink" href="#eels-curve-fitting" title="Permalink to this headline">¶</a></h2>
<p>HyperSpy makes it really easy to quantify EELS core-loss spectra by curve
fitting as it is shown in the next example of quantification of a boron nitride
EELS spectrum from the <a class="reference external" href="http://pc-web.cemes.fr/eelsdb/index.php?page=home.php">The EELS Data Base</a>.</p>
<p>Load the core-loss and low-loss spectra</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">&quot;BN_(hex)_B_K_Giovanni_Bertoni_100.msa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ll</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">&quot;BN_(hex)_LowLoss_Giovanni_Bertoni_96.msa&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Set some important experimental information that is missing from the original
core-loss file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="n">beam_energy</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">convergence_angle</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">collection_angle</span><span class="o">=</span><span class="mf">2.55</span><span class="p">)</span>
</pre></div>
</div>
<p>Define the chemical composition of the sample</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_elements</span><span class="p">((</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;N&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>We pass the low-loss spectrum to <a class="reference internal" href="../api/hyperspy.html#hyperspy.hspy.create_model" title="hyperspy.hspy.create_model"><tt class="xref py py-func docutils literal"><span class="pre">create_model()</span></tt></a> to include the
effect of multiple scattering by Fourier-ratio convolution.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">create_model</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ll</span><span class="o">=</span><span class="n">ll</span><span class="p">)</span>
</pre></div>
</div>
<p>HyperSpy has created the model and configured it automatically:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>
<span class="go">[&lt;background (PowerLaw component)&gt;,</span>
<span class="go">&lt;N_K (EELSCLEdge component)&gt;,</span>
<span class="go">&lt;B_K (EELSCLEdge component)&gt;]</span>
</pre></div>
</div>
<p>Furthermore, the components are available in the user namespace</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">N_K</span>
<span class="go">&lt;N_K (EELSCLEdge component)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B_K</span>
<span class="go">&lt;B_K (EELSCLEdge component)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">background</span>
<span class="go">&lt;background (PowerLaw component)&gt;</span>
</pre></div>
</div>
<p>Conveniently, variables named as the element symbol contain all the eels
core-loss components of the element to facilitate applying some methods to all
of them at once. Although in this example the list contains just one component
this is not generally the case.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">N</span>
<span class="go">[&lt;N_K (EELSCLEdge component)&gt;]</span>
</pre></div>
</div>
<p>By default the fine structure features are disabled (although the default value
can be configured (see <a class="reference internal" href="getting_started.html#configuring-hyperspy-label"><em>Configuring hyperspy</em></a>). We must enable them
to accurately fit this spectrum.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">enable_fine_structure</span><span class="p">()</span>
</pre></div>
</div>
<p>We use smart_fit instead of standard fit method because smart_fit is optimized
to fit EELS core-loss spectra</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">smart_fit</span><span class="p">()</span>
</pre></div>
</div>
<p>This fit can also be applied over the entire signal to fit a whole spectrum image</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">multifit</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">&#39;smart&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Print the result of the fit</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">quantify</span><span class="p">()</span>
<span class="go">Absolute quantification:</span>
<span class="go">Elem.       Intensity</span>
<span class="go">B   0.045648</span>
<span class="go">N   0.048061</span>
</pre></div>
</div>
<p>Visualize the result</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/curve_fitting_BN.png"><img alt="../_images/curve_fitting_BN.png" src="../_images/curve_fitting_BN.png" style="width: 500px;" /></a>
</div>
<p>There are several methods that are only available in
<a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel" title="hyperspy.models.eelsmodel.EELSModel"><tt class="xref py py-class docutils literal"><span class="pre">EELSModel</span></tt></a>:</p>
<ul class="simple">
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.smart_fit" title="hyperspy.models.eelsmodel.EELSModel.smart_fit"><tt class="xref py py-meth docutils literal"><span class="pre">smart_fit()</span></tt></a> is a fit method that is
more robust than the standard routine when fitting EELS data.</li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.quantify" title="hyperspy.models.eelsmodel.EELSModel.quantify"><tt class="xref py py-meth docutils literal"><span class="pre">quantify()</span></tt></a> prints the intensity at
the current locations of all the EELS ionisation edges in the model.</li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.remove_fine_structure_data" title="hyperspy.models.eelsmodel.EELSModel.remove_fine_structure_data"><tt class="xref py py-meth docutils literal"><span class="pre">remove_fine_structure_data()</span></tt></a> removes
the fine structure spectral data range (as defined by the
<tt class="xref py py-attr docutils literal"><span class="pre">fine_structure_width)</span></tt>
ionisation edge components. It is specially useful when fitting without
convolving with a zero-loss peak.</li>
</ul>
<p>The following methods permit to easily enable/disable background and ionisation
edges components:</p>
<ul class="simple">
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.enable_edges" title="hyperspy.models.eelsmodel.EELSModel.enable_edges"><tt class="xref py py-meth docutils literal"><span class="pre">enable_edges()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.enable_background" title="hyperspy.models.eelsmodel.EELSModel.enable_background"><tt class="xref py py-meth docutils literal"><span class="pre">enable_background()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.disable_background" title="hyperspy.models.eelsmodel.EELSModel.disable_background"><tt class="xref py py-meth docutils literal"><span class="pre">disable_background()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.enable_fine_structure" title="hyperspy.models.eelsmodel.EELSModel.enable_fine_structure"><tt class="xref py py-meth docutils literal"><span class="pre">enable_fine_structure()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.disable_fine_structure" title="hyperspy.models.eelsmodel.EELSModel.disable_fine_structure"><tt class="xref py py-meth docutils literal"><span class="pre">disable_fine_structure()</span></tt></a></li>
</ul>
<p>The following methods permit to easily enable/disable several ionisation
edge functionalities:</p>
<ul class="simple">
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.set_all_edges_intensities_positive" title="hyperspy.models.eelsmodel.EELSModel.set_all_edges_intensities_positive"><tt class="xref py py-meth docutils literal"><span class="pre">set_all_edges_intensities_positive()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.unset_all_edges_intensities_positive" title="hyperspy.models.eelsmodel.EELSModel.unset_all_edges_intensities_positive"><tt class="xref py py-meth docutils literal"><span class="pre">unset_all_edges_intensities_positive()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.enable_free_onset_energy" title="hyperspy.models.eelsmodel.EELSModel.enable_free_onset_energy"><tt class="xref py py-meth docutils literal"><span class="pre">enable_free_onset_energy()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.disable_free_onset_energy" title="hyperspy.models.eelsmodel.EELSModel.disable_free_onset_energy"><tt class="xref py py-meth docutils literal"><span class="pre">disable_free_onset_energy()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.fix_edges" title="hyperspy.models.eelsmodel.EELSModel.fix_edges"><tt class="xref py py-meth docutils literal"><span class="pre">fix_edges()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.free_edges" title="hyperspy.models.eelsmodel.EELSModel.free_edges"><tt class="xref py py-meth docutils literal"><span class="pre">free_edges()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.fix_fine_structure" title="hyperspy.models.eelsmodel.EELSModel.fix_fine_structure"><tt class="xref py py-meth docutils literal"><span class="pre">fix_fine_structure()</span></tt></a></li>
<li><a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.free_fine_structure" title="hyperspy.models.eelsmodel.EELSModel.free_fine_structure"><tt class="xref py py-meth docutils literal"><span class="pre">free_fine_structure()</span></tt></a></li>
</ul>
<p>When fitting edges with fine structure enabled it is often desirable that the
fine structure region of nearby ionization edges does not overlap. HyperSpy
provides a method,
<a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.resolve_fine_structure" title="hyperspy.models.eelsmodel.EELSModel.resolve_fine_structure"><tt class="xref py py-meth docutils literal"><span class="pre">resolve_fine_structure()</span></tt></a>, to
automatically adjust the fine structure to prevent fine structure to avoid
overlapping. This method is executed automatically when e.g. components are
added or removed from the model, but sometimes is necessary to call it
manually.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7.1: </span>Sometimes it is desirable to disable the automatic adjustment of the fine
structure width. It is possible to suspend this feature by calling
<a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.suspend_auto_fine_structure_width" title="hyperspy.models.eelsmodel.EELSModel.suspend_auto_fine_structure_width"><tt class="xref py py-meth docutils literal"><span class="pre">suspend_auto_fine_structure_width()</span></tt></a>.
To resume it use
<a class="reference internal" href="../api/hyperspy.models.html#hyperspy.models.eelsmodel.EELSModel.suspend_auto_fine_structure_width" title="hyperspy.models.eelsmodel.EELSModel.suspend_auto_fine_structure_width"><tt class="xref py py-meth docutils literal"><span class="pre">suspend_auto_fine_structure_width()</span></tt></a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/hyperspy_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Electron Energy Loss Spectroscopy</a><ul>
<li><a class="reference internal" href="#tools-for-eels-data-analysis">Tools for EELS data analysis</a><ul>
<li><a class="reference internal" href="#elemental-composition-of-the-sample">Elemental composition of the sample</a></li>
<li><a class="reference internal" href="#thickness-estimation">Thickness estimation</a></li>
<li><a class="reference internal" href="#zero-loss-peak-centre-and-alignment">Zero-loss peak centre and alignment</a></li>
<li><a class="reference internal" href="#deconvolutions">Deconvolutions</a></li>
<li><a class="reference internal" href="#estimate-elastic-scattering-intensity">Estimate elastic scattering intensity</a></li>
<li><a class="reference internal" href="#kramers-kronig-analysis">Kramers-Kronig Analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#eels-curve-fitting">EELS curve fitting</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="model.html"
                        title="previous chapter">Curve fitting</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="eds.html"
                        title="next chapter">Energy-Dispersive X-Rays Spectrometry (EDS)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/user_guide/eels.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="eds.html" title="Energy-Dispersive X-Rays Spectrometry (EDS)"
             >next</a> |</li>
        <li class="right" >
          <a href="model.html" title="Curve fitting"
             >previous</a> |</li>
        <li><a href="../index.html">HyperSpy 0.8+dev documentation</a> &raquo;</li>
          <li><a href="index.html" >HyperSpy User Guide (DRAFT)</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, The HyperSpy development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3a0.
    </div>
  </body>
</html>