<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Data visualisation &mdash; HyperSpy 0.7 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/hyperspy_logo.ico"/>
    <link rel="top" title="HyperSpy 0.7 documentation" href="../index.html" />
    <link rel="up" title="HyperSpy User Guide (DRAFT)" href="index.html" />
    <link rel="next" title="Machine learning" href="mva.html" />
    <link rel="prev" title="Image tools" href="image.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mva.html" title="Machine learning"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="image.html" title="Image tools"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">HyperSpy 0.7 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">HyperSpy User Guide (DRAFT)</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="data-visualisation">
<span id="visualization-label"></span><h1>Data visualisation<a class="headerlink" href="#data-visualisation" title="Permalink to this headline">¶</a></h1>
<p>The object returned by <a class="reference internal" href="../api/hyperspy.html#hyperspy.io.load" title="hyperspy.io.load"><tt class="xref py py-func docutils literal"><span class="pre">load()</span></tt></a> is a <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal"><tt class="xref py py-class docutils literal"><span class="pre">Signal</span></tt></a>
and has a <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal.plot" title="hyperspy.signal.Signal.plot"><tt class="xref py py-meth docutils literal"><span class="pre">plot()</span></tt></a> method which plots the data and
allows navigation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">&#39;YourDataFilenameHere&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<p>if the object is single spectrum or an image one window will appear when
calling the plot method.</p>
<p>If the object is a 1D or 2D spectrum-image (i.e. with 2 or 3 dimensions when
including energy) two figures will appear, one containing a plot of the
spectrum at the current coordinates and the other an image of the data summed
over its spectral dimension if 2D or an image with the spectral dimension in
the x-axis if 1D:</p>
<div class="figure align-center" id="d-si">
<a class="reference internal image-reference" href="../_images/2D_SI.png"><img alt="../_images/2D_SI.png" src="../_images/2D_SI.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 2D spectrum image</p>
</div>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/1D_SI.png"><img alt="../_images/1D_SI.png" src="../_images/1D_SI.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 1D spectrum image</p>
</div>
<p>Equivalently, if the object is a 1D or 2D image stack two figures will appear,
one containing a plot of the image at the current coordinates and the other
a spectrum or an image obtained by summing over the image dimensions:</p>
<div class="figure align-center" id="d-image-stack-png">
<a class="reference internal image-reference" href="../_images/1D_image_stack.png"><img alt="../_images/1D_image_stack.png" src="../_images/1D_image_stack.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 1D image stack</p>
</div>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/2D_image_stack.png"><img alt="../_images/2D_image_stack.png" src="../_images/2D_image_stack.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 2D image stack</p>
</div>
<p>To change the current coordinates, click on the pointer (which will be a line
or a square depending on the dimensions of the data) and drag it around. It is
also possible to move the pointer by using the numpad arrows <strong>when numlock is
on and the spectrum or navigator figure is selected</strong>.When using the numpad
arrows the PageUp and PageDown keys change the size of the step.</p>
<p>An extra cursor can be added by pressing the <tt class="docutils literal"><span class="pre">e</span></tt> key. Pressing <tt class="docutils literal"><span class="pre">e</span></tt> once
more will disable the extra cursor:</p>
<div class="figure align-center" id="second-pointer-png">
<a class="reference internal image-reference" href="../_images/second_pointer.png"><img alt="../_images/second_pointer.png" src="../_images/second_pointer.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 2D spectrum image using two pointers.</p>
</div>
<p>Sometimes the default size of the rectangular cursors used to navigate images
can be too small to be dragged or even seen. It
is possible to change the size of the cursors by pressing the <tt class="docutils literal"><span class="pre">+</span></tt> and <tt class="docutils literal"><span class="pre">-</span></tt>
keys  <strong>when the navigator window is selected</strong>.</p>
<p>The same keys can be used to explore an image stack.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">key</th>
<th class="head">function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>e</td>
<td>Switch second pointer on/off</td>
</tr>
<tr class="row-odd"><td>Arrows</td>
<td>Change coordinates</td>
</tr>
<tr class="row-even"><td>PageUp</td>
<td>Increase step size</td>
</tr>
<tr class="row-odd"><td>PageDown</td>
<td>Decrease step size</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">+</span></tt></td>
<td>Increase pointer size</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-</span></tt></td>
<td>Decrease pointer size</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">h</span></tt></td>
<td>Launch the contrast adjustment tool (only for Image)</td>
</tr>
</tbody>
</table>
<p>To close all the figures run the following command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">close</span><span class="p">(</span><span class="s">&#39;all&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a <a class="reference external" href="http://matplotlib.sourceforge.net/">matplotlib</a> command.
Matplotlib is the library that hyperspy uses to produce the plots. You can
learn how to pan/zoom and more  <a class="reference external" href="http://matplotlib.sourceforge.net/users/navigation_toolbar.html">in the matplotlib documentation</a></p>
</div>
</div>
<div class="section" id="visualisation-of-multi-dimensional-data">
<span id="visualization-multi-dim"></span><h1>Visualisation of multi-dimensional data<a class="headerlink" href="#visualisation-of-multi-dimensional-data" title="Permalink to this headline">¶</a></h1>
<p>With the aim to ease the data analysis of multidimensionnal data, HyperSpy
provides a powerful and flexible <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal.plot" title="hyperspy.signal.Signal.plot"><tt class="xref py py-meth docutils literal"><span class="pre">plot()</span></tt></a> method to
visualize n-dimensional data. In this chapter, the visualisation of data of 3
or more dimensions is exemplified with a image stack and a 4D hyperspectrum
obtained by recording two signals in parallele in a FIB/SEM: the intensity of
the secondary electron emission (SE image) and the X-ray spectrum (EDS map).</p>
<div class="section" id="the-plot-function">
<h2>The plot() function<a class="headerlink" href="#the-plot-function" title="Permalink to this headline">¶</a></h2>
<p>The visualisation with <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal.plot" title="hyperspy.signal.Signal.plot"><tt class="xref py py-meth docutils literal"><span class="pre">plot()</span></tt></a> of 1D and 2D signal is
given in <em class="xref std std-ref">getting started</em>. Further options are shown
here.</p>
<div class="section" id="stack-of-images">
<h3>Stack of images<a class="headerlink" href="#stack-of-images" title="Permalink to this headline">¶</a></h3>
<p>Stack of 2D images can be imported as an 3D image and plotted with a slider.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">&#39;image*.tif&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s">&quot;slider&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_image.png"><img alt="../_images/3D_image.png" src="../_images/3D_image.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 3D image with a slider.</p>
</div>
</div>
<div class="section" id="spectrum-images">
<h3>Spectrum images<a class="headerlink" href="#spectrum-images" title="Permalink to this headline">¶</a></h3>
<p>A stack of 2D spectrum images can be imported as a 3D spectrum image and
plotted with sliders.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">&#39;spectrum_image*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_spectrum.png"><img alt="../_images/3D_spectrum.png" src="../_images/3D_spectrum.png" style="width: 650px;" /></a>
<p class="caption">Visualisation of a 3D spectrum image with sliders.</p>
</div>
<p>If the 3D images has the same spatial dimension as the 3D spectrum image, it
can be used as an external signal for the navigator.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_spectrum_external.png"><img alt="../_images/3D_spectrum_external.png" src="../_images/3D_spectrum_external.png" style="width: 650px;" /></a>
<p class="caption">Visualisation of a 3D spectrum image. The navigator is an external signal.</p>
</div>
</div>
<div class="section" id="stack-of-spectral-images">
<h3>Stack of spectral images<a class="headerlink" href="#stack-of-spectral-images" title="Permalink to this headline">¶</a></h3>
<p>The 3D spectrum image can be transformed in a stack of spectral images for an
alternative display.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">as_image</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s">&#39;spectrum&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_image_spectrum.png"><img alt="../_images/3D_image_spectrum.png" src="../_images/3D_image_spectrum.png" style="width: 650px;" /></a>
<p class="caption">Visualisation of a stack of 2D spectral images.</p>
</div>
<p>An external signal (e.g. a spectrum) can be used as a navigator, for example
the &#8220;maximum spectrum&#8221; for which each channel is the maximum of all pixels.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">specMax</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="n">specMax</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_image_spectrum_external.png"><img alt="../_images/3D_image_spectrum_external.png" src="../_images/3D_image_spectrum_external.png" style="width: 650px;" /></a>
<p class="caption">Visualisation of a stack of 2D spectral images.
The navigator is the &#8220;maximum spectrum&#8221;.</p>
</div>
<p>Lastly, if no navigator is needed, &#8220;navigator=None&#8221; can be used.</p>
</div>
</div>
<div class="section" id="using-mayavi-to-visualize-3d-data">
<h2>Using Mayavi to visualize 3D data<a class="headerlink" href="#using-mayavi-to-visualize-3d-data" title="Permalink to this headline">¶</a></h2>
<p>Although HyperSpy does not currently support plotting when signal_dimension is
greater than 2, <a class="reference external" href="http://docs.enthought.com/mayavi/mayavi/">Mayavi</a> can be
used for this purpose.</p>
<p>In the following example we also use <a class="reference external" href="http://scikit-image.org/">scikit-image</a>
for noise reduction. More details about
<a class="reference internal" href="../api/hyperspy._signals.html#hyperspy._signals.eds.EDSSpectrum.get_lines_intensity" title="hyperspy._signals.eds.EDSSpectrum.get_lines_intensity"><tt class="xref py py-meth docutils literal"><span class="pre">get_lines_intensity()</span></tt></a> method can be
found in <a class="reference internal" href="eds.html#get-lines-intensity"><em>EDS lines intensity</em></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#Import packages</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skimage</span> <span class="kn">import</span> <span class="nb">filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mayavi</span> <span class="kn">import</span> <span class="n">mlab</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#Generate the X-ray intensity map of Nickel L alpha</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NiMap</span> <span class="o">=</span> <span class="n">specImg3Dc</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">([</span><span class="s">&#39;Ni_La&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#Reduce the noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NiMapDenoise</span> <span class="o">=</span> <span class="nb">filter</span><span class="o">.</span><span class="n">denoise_tv_chambolle</span><span class="p">(</span><span class="n">NiMap</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#Plot isosurfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">contour3d</span><span class="p">(</span><span class="n">NiMapDenoise</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">outline</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/mayavi.png"><img alt="../_images/mayavi.png" src="../_images/mayavi.png" style="width: 450px;" /></a>
<p class="caption">Visualisation of isosurfaces with mayavi.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The sample and the data used in this chapter are described in
P. Burdet, <cite>et al.</cite>, Acta Materialia, 61, p. 3090-3098 (2013) (see
<a class="reference external" href="http://infoscience.epfl.ch/record/185861/">abstract</a>).</p>
</div>
</div>
<div class="section" id="comparing-objects">
<span id="plot-spectra"></span><h2>Comparing objects<a class="headerlink" href="#comparing-objects" title="Permalink to this headline">¶</a></h2>
<p>HyperSpy provides two functions to compare different objects (spectra, images or
other signals) whatever their dimension. The two functions,
<a class="reference internal" href="../api/hyperspy.drawing.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><tt class="xref py py-func docutils literal"><span class="pre">plot_spectra()</span></tt></a> and <a class="reference internal" href="../api/hyperspy.drawing.html#hyperspy.drawing.utils.plot_signals" title="hyperspy.drawing.utils.plot_signals"><tt class="xref py py-func docutils literal"><span class="pre">plot_signals()</span></tt></a>
, are explained and exemplified in this chapter.</p>
<div class="section" id="plotting-several-spectra">
<span id="id3"></span><h3>Plotting several spectra<a class="headerlink" href="#plotting-several-spectra" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7.</span></p>
</div>
<p><a class="reference internal" href="../api/hyperspy.drawing.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><tt class="xref py py-func docutils literal"><span class="pre">plot_spectra()</span></tt></a> is used to plot several spectra in the
same figure. It supports different styles, the default
being &#8220;overlap&#8221;. The default style is configurable in <a class="reference internal" href="getting_started.html#configuring-hyperspy-label"><em>preferences</em></a>.</p>
<p>In the following example we create a list of 9 single spectra (gaussian
functions with different sigma values) and plot them in the same figure using
<a class="reference internal" href="../api/hyperspy.drawing.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><tt class="xref py py-func docutils literal"><span class="pre">plot_spectra()</span></tt></a>. Note that, in this case, the legend
labels are taken from the indivual spectrum titles. By clicking on the
legended line, a spectrum can be toggled on and off.</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">create_model</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaussians</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">sigma</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">g</span><span class="o">.</span><span class="n">sigma</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">sigma</span>
<span class="gp">... </span>        <span class="n">gs</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">as_signal</span><span class="p">()</span>
<span class="gp">... </span>        <span class="n">gs</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">&quot;sigma=</span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">sigma</span>
<span class="gp">... </span>        <span class="n">gaussians</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gs</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">gaussians</span><span class="p">,</span><span class="n">legend</span><span class="o">=</span><span class="s">&#39;auto&#39;</span><span class="p">)</span>
<span class="go">&lt;matplotlib.axes.AxesSubplot object at 0x4c28c90&gt;</span>
</pre></div>
</div>
</div></blockquote>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_spectra_overlap.png"><img alt="../_images/plot_spectra_overlap.png" src="../_images/plot_spectra_overlap.png" style="width: 500px;" /></a>
</div>
<p>Another style, &#8220;cascade&#8221;, can be useful when &#8220;overlap&#8221; results in a plot that
is too cluttered e.g. to visualize
changes in EELS fine structure over a line scan. The following example
shows how to plot a cascade style figure from a spectrum, and save it in
a file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span><span class="mi">1000</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">&#39;cascade&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">&quot;cascade_plot.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_spectra_cascade.png"><img alt="../_images/plot_spectra_cascade.png" src="../_images/plot_spectra_cascade.png" style="width: 500px;" /></a>
</div>
<p>The &#8220;cascade&#8221; <cite>style</cite> has a <cite>padding</cite> option. The default value, 1, keeps the
individual plots from overlapping. However in most cases a lower
padding value can be used, to get tighter plots.</p>
<p>Using the color argument one can assign a color to all the spectra, or specific
colors for each spectrum. In the same way, one can also assign the line style
and provide the legend labels:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">color_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;blue&#39;</span><span class="p">,</span> <span class="s">&#39;blue&#39;</span><span class="p">,</span> <span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="s">&#39;red&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_style_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;-&#39;</span><span class="p">,</span><span class="s">&#39;--&#39;</span><span class="p">,</span><span class="s">&#39;steps&#39;</span><span class="p">,</span><span class="s">&#39;-.&#39;</span><span class="p">,</span><span class="s">&#39;:&#39;</span><span class="p">,</span><span class="s">&#39;-&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">&#39;cascade&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_style</span><span class="o">=</span><span class="n">line_style_list</span><span class="p">,</span><span class="n">legend</span><span class="o">=</span><span class="s">&#39;auto&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_spectra_color.png"><img alt="../_images/plot_spectra_color.png" src="../_images/plot_spectra_color.png" style="width: 500px;" /></a>
</div>
<p>There are also two other styles, &#8220;heatmap&#8221; and &#8220;mosaic&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">&#39;heatmap&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_spectra_heatmap.png"><img alt="../_images/plot_spectra_heatmap.png" src="../_images/plot_spectra_heatmap.png" style="width: 500px;" /></a>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">&#39;mosaic&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_spectra_mosaic.png"><img alt="../_images/plot_spectra_mosaic.png" src="../_images/plot_spectra_mosaic.png" style="width: 500px;" /></a>
</div>
<p>The function returns a matplotlib ax object, which can be used to customize the figure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span><span class="mi">1000</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&quot;An axis&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&quot;Another axis&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&quot;A title!&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_spectra_customize.png"><img alt="../_images/plot_spectra_customize.png" src="../_images/plot_spectra_customize.png" style="width: 500px;" /></a>
</div>
</div>
<div class="section" id="plotting-several-signals">
<span id="plot-signals"></span><h3>Plotting several signals<a class="headerlink" href="#plotting-several-signals" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.7.</span></p>
</div>
<p><a class="reference internal" href="../api/hyperspy.drawing.html#hyperspy.drawing.utils.plot_signals" title="hyperspy.drawing.utils.plot_signals"><tt class="xref py py-func docutils literal"><span class="pre">plot_signals()</span></tt></a> is used to plot several signals at the
same time. By default the navigation position of the signals will be synced, and the
signals must have the same dimensions. To plot two spectra at the same time:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">])</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_signals.png"><img alt="../_images/plot_signals.png" src="../_images/plot_signals.png" style="width: 500px;" /></a>
</div>
<p>The navigator can be specified by using the navigator argument, where the
different options are &#8220;auto&#8221;, None, &#8220;spectrum&#8221;, &#8220;slider&#8221; or Signal.
For more details about the different navigators,
see <em class="xref std std-ref">navigator_options</em>.
To specify the navigator:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">navigator</span><span class="o">=</span><span class="s">&quot;slider&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_signals_slider.png"><img alt="../_images/plot_signals_slider.png" src="../_images/plot_signals_slider.png" style="width: 500px;" /></a>
</div>
<p>Navigators can also be set differently for different plots using the
navigator_list argument. Where the navigator_list be the same length
as the number of signals plotted, and only contain valid navigator options.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s3</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">navigator_list</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;slider&quot;</span><span class="p">,</span> <span class="n">s3</span><span class="p">])</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_signals_navigator_list.png"><img alt="../_images/plot_signals_navigator_list.png" src="../_images/plot_signals_navigator_list.png" style="width: 500px;" /></a>
</div>
<p>Several signals can also be plotted without syncing the navigation by using
sync=False. The navigator_list can still be used to specify a navigator for
each plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">signals</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">utils</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">sync</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">navigator_list</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;slider&quot;</span><span class="p">,</span> <span class="s">&quot;slider&quot;</span><span class="p">])</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_signals_sync.png"><img alt="../_images/plot_signals_sync.png" src="../_images/plot_signals_sync.png" style="width: 500px;" /></a>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/hyperspy_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Data visualisation</a></li>
<li><a class="reference internal" href="#visualisation-of-multi-dimensional-data">Visualisation of multi-dimensional data</a><ul>
<li><a class="reference internal" href="#the-plot-function">The plot() function</a><ul>
<li><a class="reference internal" href="#stack-of-images">Stack of images</a></li>
<li><a class="reference internal" href="#spectrum-images">Spectrum images</a></li>
<li><a class="reference internal" href="#stack-of-spectral-images">Stack of spectral images</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-mayavi-to-visualize-3d-data">Using Mayavi to visualize 3D data</a></li>
<li><a class="reference internal" href="#comparing-objects">Comparing objects</a><ul>
<li><a class="reference internal" href="#plotting-several-spectra">Plotting several spectra</a></li>
<li><a class="reference internal" href="#plotting-several-signals">Plotting several signals</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="image.html"
                        title="previous chapter">Image tools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mva.html"
                        title="next chapter">Machine learning</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/user_guide/visualisation.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mva.html" title="Machine learning"
             >next</a> |</li>
        <li class="right" >
          <a href="image.html" title="Image tools"
             >previous</a> |</li>
        <li><a href="../index.html">HyperSpy 0.7 documentation</a> &raquo;</li>
          <li><a href="index.html" >HyperSpy User Guide (DRAFT)</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2012, The HyperSpy development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3a0.
    </div>
  </body>
</html>