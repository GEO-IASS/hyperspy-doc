<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Data visualisation &mdash; Hyperspy 0.6+dev documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.6+dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/hyperspy_logo.ico"/>
    <link rel="top" title="Hyperspy 0.6+dev documentation" href="../index.html" />
    <link rel="up" title="Hyperspy User Guide (DRAFT)" href="index.html" />
    <link rel="next" title="Machine learning" href="mva.html" />
    <link rel="prev" title="Image tools" href="image.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mva.html" title="Machine learning"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="image.html" title="Image tools"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Hyperspy 0.6+dev documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Hyperspy User Guide (DRAFT)</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="data-visualisation">
<span id="visualization-label"></span><h1>Data visualisation<a class="headerlink" href="#data-visualisation" title="Permalink to this headline">¶</a></h1>
<p>The object returned by <a class="reference internal" href="../api/hyperspy.html#hyperspy.io.load" title="hyperspy.io.load"><tt class="xref py py-func docutils literal"><span class="pre">load()</span></tt></a> is a <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal"><tt class="xref py py-class docutils literal"><span class="pre">Signal</span></tt></a>
and has a <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal.plot" title="hyperspy.signal.Signal.plot"><tt class="xref py py-meth docutils literal"><span class="pre">plot()</span></tt></a> method which plots the data and
allows navigation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">&#39;YourDataFilenameHere&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<p>if the object is single spectrum or an image one window will appear when
calling the plot method.</p>
<p>If the object is a 1D or 2D spectrum-image (i.e. with 2 or 3 dimensions when
including energy) two figures will appear, one containing a plot of the
spectrum at the current coordinates and the other an image of the data summed
over its spectral dimension if 2D or an image with the spectral dimension in
the x-axis if 1D:</p>
<div class="figure align-center" id="d-si">
<a class="reference internal image-reference" href="../_images/2D_SI.png"><img alt="../_images/2D_SI.png" src="../_images/2D_SI.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 2D spectrum image</p>
</div>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/1D_SI.png"><img alt="../_images/1D_SI.png" src="../_images/1D_SI.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 1D spectrum image</p>
</div>
<p>Equivalently, if the object is a 1D or 2D image stack two figures will appear,
one containing a plot of the image at the current coordinates and the other
a spectrum or an image obtained by summing over the image dimensions:</p>
<div class="figure align-center" id="d-image-stack-png">
<a class="reference internal image-reference" href="../_images/1D_image_stack.png"><img alt="../_images/1D_image_stack.png" src="../_images/1D_image_stack.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 1D image stack</p>
</div>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/2D_image_stack.png"><img alt="../_images/2D_image_stack.png" src="../_images/2D_image_stack.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 2D image stack</p>
</div>
<p>To change the current coordinates, click on the pointer (which will be a line
or a square depending on the dimensions of the data) and drag it around. It is
also possible to move the pointer by using the numpad arrows <strong>when numlock is
on and the spectrum or navigator figure is selected</strong>.When using the numpad
arrows the PageUp and PageDown keys change the size of the step.</p>
<p>An extra cursor can be added by pressing the <tt class="docutils literal"><span class="pre">e</span></tt> key. Pressing <tt class="docutils literal"><span class="pre">e</span></tt> once
more will disable the extra cursor:</p>
<div class="figure align-center" id="second-pointer-png">
<a class="reference internal image-reference" href="../_images/second_pointer.png"><img alt="../_images/second_pointer.png" src="../_images/second_pointer.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 2D spectrum image using two pointers.</p>
</div>
<p>When exploring a 2D hyperspectral object of high spatial resolution the default
size of the rectangular cursors can be too small to be dragged or even seen. It
is possible to change the size of the cursors by pressing the <tt class="docutils literal"><span class="pre">+</span></tt> and <tt class="docutils literal"><span class="pre">-</span></tt>
keys  <strong>when the navigator window is selected</strong>.</p>
<p>The same keys can be used to explore an image stack.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">key</th>
<th class="head">function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>e</td>
<td>Switch second pointer on/off</td>
</tr>
<tr class="row-odd"><td>Arrows</td>
<td>Change coordinates</td>
</tr>
<tr class="row-even"><td>PageUp</td>
<td>Increase step size</td>
</tr>
<tr class="row-odd"><td>PageDown</td>
<td>Decrease step size</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">+</span></tt></td>
<td>Increase pointer size</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-</span></tt></td>
<td>Decrease pointer size</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">h</span></tt></td>
<td>Launch the contrast adjustment tool (only for Image)</td>
</tr>
</tbody>
</table>
<p>To close all the figures run the following command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">close</span><span class="p">(</span><span class="s">&#39;all&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a <a class="reference external" href="http://matplotlib.sourceforge.net/">matplotlib</a> command.
Matplotlib is the library that hyperspy uses to produce the plots. You can
learn how to pan/zoom and more  <a class="reference external" href="http://matplotlib.sourceforge.net/users/navigation_toolbar.html">in the matplotlib documentation</a></p>
</div>
</div>
<div class="section" id="visualisation-of-multi-dimensional-data">
<h1>Visualisation of multi-dimensional data<a class="headerlink" href="#visualisation-of-multi-dimensional-data" title="Permalink to this headline">¶</a></h1>
<p>With the aim to ease the data analysis of multidimensionnal data, Hyperspy
provides a powerful and flexible <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal.plot" title="hyperspy.signal.Signal.plot"><tt class="xref py py-meth docutils literal"><span class="pre">plot()</span></tt></a> method to
visualize n-dimensional data. In this chapter, the visualisation of data of 3
or more dimensions is exemplified with a image stack and a 4D hyperspectrum
obtained by recording two signals in parallele in a FIB/SEM: the intensity of
the secondary electron emission (SE image) and the X-ray spectrum (EDS map).</p>
<div class="section" id="the-plot-function">
<h2>The plot() function<a class="headerlink" href="#the-plot-function" title="Permalink to this headline">¶</a></h2>
<p>The visualisation with <a class="reference internal" href="../api/hyperspy.html#hyperspy.signal.Signal.plot" title="hyperspy.signal.Signal.plot"><tt class="xref py py-meth docutils literal"><span class="pre">plot()</span></tt></a> of 1D and 2D signal is
given in <a class="reference internal" href="getting_started.html#getting-help-label"><em>getting started</em></a>. Further options are shown
here.</p>
<div class="section" id="stack-of-images">
<h3>Stack of images<a class="headerlink" href="#stack-of-images" title="Permalink to this headline">¶</a></h3>
<p>Stack of 2D images can be imported as an 3D image and plotted with a slider.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">&#39;image*.tif&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_image.png"><img alt="../_images/3D_image.png" src="../_images/3D_image.png" style="width: 500px;" /></a>
<p class="caption">Visualisation of a 3D image with a slider.</p>
</div>
</div>
<div class="section" id="spectrum-images">
<h3>Spectrum images<a class="headerlink" href="#spectrum-images" title="Permalink to this headline">¶</a></h3>
<p>A stack of 2D spectrum images can be imported as a 3D spectrum image and
plotted with sliders.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">&#39;spectrum_image*.tif&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_spectrum.png"><img alt="../_images/3D_spectrum.png" src="../_images/3D_spectrum.png" style="width: 650px;" /></a>
<p class="caption">Visualisation of a 3D spectrum image with sliders.</p>
</div>
<p>If the 3D images has the same spatial dimension as the 3D spectrum image, it
can be used as an external signal for the navigator.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">spec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_spectrum_external.png"><img alt="../_images/3D_spectrum_external.png" src="../_images/3D_spectrum_external.png" style="width: 650px;" /></a>
<p class="caption">Visualisation of a 3D spectrum image. The navigator is an external signal.</p>
</div>
</div>
<div class="section" id="stack-of-spectral-images">
<h3>Stack of spectral images<a class="headerlink" href="#stack-of-spectral-images" title="Permalink to this headline">¶</a></h3>
<p>The 3D spectrum image can be transformed in a stack of spectral images for an
alternative display.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">to_image</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s">&#39;spectrum&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_image_spectrum.png"><img alt="../_images/3D_image_spectrum.png" src="../_images/3D_image_spectrum.png" style="width: 650px;" /></a>
<p class="caption">Visualisation of a stack of 2D spectral images.</p>
</div>
<p>An external signal (e.g. a spectrum) can be used as a navigator, for example
the &#8220;maximum spectrum&#8221; for which each channel is the maximum of all pixels.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">specMax</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="n">specMax</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/3D_image_spectrum_external.png"><img alt="../_images/3D_image_spectrum_external.png" src="../_images/3D_image_spectrum_external.png" style="width: 650px;" /></a>
<p class="caption">Visualisation of a stack of 2D spectral images.
The navigator is the &#8220;maximum spectrum&#8221;.</p>
</div>
</div>
</div>
<div class="section" id="using-mayavi-to-visualize-3d-data">
<h2>Using Mayavi to visualize 3D data<a class="headerlink" href="#using-mayavi-to-visualize-3d-data" title="Permalink to this headline">¶</a></h2>
<p>Although Hyperspy does not currently support plotting when signal_dimension is
greater than 2, <a class="reference external" href="http://docs.enthought.com/mayavi/mayavi/">Mayavi</a> can be
used for this purpose.</p>
<p>In the following example we also use <a class="reference external" href="http://scikit-image.org/">scikit-image</a>
for noise reduction:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#Import packages</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skimage</span> <span class="kn">import</span> <span class="nb">filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mayavi</span> <span class="kn">import</span> <span class="n">mlab</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#Generate the X-ray intensity map of Nickel L alpha</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NiMap</span> <span class="o">=</span> <span class="n">specImg3Dc</span><span class="o">.</span><span class="n">get_intensity_map</span><span class="p">([</span><span class="s">&#39;Ni_La&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#Reduce the noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NiMapDenoise</span> <span class="o">=</span> <span class="nb">filter</span><span class="o">.</span><span class="n">tv_denoise</span><span class="p">(</span><span class="n">NiMap</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#Plot isosurfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">contour3d</span><span class="p">(</span><span class="n">NiMapDenoise</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">outline</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/mayavi.png"><img alt="../_images/mayavi.png" src="../_images/mayavi.png" style="width: 450px;" /></a>
<p class="caption">Visualisation of isosurfaces with mayavi.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The sample and the data used in this chapter are described in
P. Burdet, <cite>et al.</cite>, Acta Materialia, 61, p. 3090-3098 (2013) (see
<a class="reference external" href="http://infoscience.epfl.ch/record/185861/">abstract</a>).</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/hyperspy_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Data visualisation</a></li>
<li><a class="reference internal" href="#visualisation-of-multi-dimensional-data">Visualisation of multi-dimensional data</a><ul>
<li><a class="reference internal" href="#the-plot-function">The plot() function</a><ul>
<li><a class="reference internal" href="#stack-of-images">Stack of images</a></li>
<li><a class="reference internal" href="#spectrum-images">Spectrum images</a></li>
<li><a class="reference internal" href="#stack-of-spectral-images">Stack of spectral images</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-mayavi-to-visualize-3d-data">Using Mayavi to visualize 3D data</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="image.html"
                        title="previous chapter">Image tools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mva.html"
                        title="next chapter">Machine learning</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/user_guide/visualisation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mva.html" title="Machine learning"
             >next</a> |</li>
        <li class="right" >
          <a href="image.html" title="Image tools"
             >previous</a> |</li>
        <li><a href="../index.html">Hyperspy 0.6+dev documentation</a> &raquo;</li>
          <li><a href="index.html" >Hyperspy User Guide (DRAFT)</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, The Hyperspy development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b2.
    </div>
  </body>
</html>