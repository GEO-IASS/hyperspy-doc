

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy._signals package &mdash; HyperSpy 0.8.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy_logo.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="HyperSpy 0.8.2 documentation" href="../index.html"/>
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> HyperSpy
        

        
          
          <img src="../_static/hyperspy_logo.png" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide (DRAFT)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/intro.html">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/intro.html#what-is-hyperspy">What is HyperSpy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/intro.html#our-vision">Our vision</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/intro.html#hyperspy-s-character">HyperSpy&#8217;s character</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/what_is_new.html">What&#8217;s new</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-8-2">v0.8.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-8-1">v0.8.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#new-features">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#api-changes">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-8">v0.8</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id1">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id2">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-7-3">v0.7.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-7-2">v0.7.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-7-1">v0.7.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id5">New features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-7">v0.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id7">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id12">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-6">v0.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id13">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id14">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-5-1">v0.5.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id15">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#major-bugs-fixed">Major bugs fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id16">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-5">v0.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id17">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id18">Major bugs fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id19">API changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-4-1">v0.4.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id20">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id21">Bugs fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#syntax-changes">Syntax changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/what_is_new.html#v0-4">v0.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id22">New features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id23">Bugs fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/what_is_new.html#id24">Syntax changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/install.html">Installing HyperSpy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/install.html#quick-instructions-to-install-hyperspy-in-windows">Quick instructions to install HyperSpy in Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/install.html#quick-instructions-to-install-hyperspy-macos">Quick instructions to install HyperSpy MacOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/install.html#install-using-python-installers">Install using Python installers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/install.html#install-from-a-binary">Install from a binary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/install.html#install-from-source">Install from source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/install.html#released-version">Released version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/install.html#development-version">Development version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/install.html#creating-debian-ubuntu-binaries">Creating Debian/Ubuntu binaries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/install.html#installing-the-required-libraries">Installing the required libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/install.html#known-issues">Known issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/install.html#windows">Windows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/getting_started.html">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#starting-hyperspy">Starting HyperSpy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/getting_started.html#starting-hyperspy-from-the-terminal">Starting HyperSpy from the terminal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/getting_started.html#starting-hyperspy-from-the-context-menu">Starting HyperSpy from the context menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/getting_started.html#hyperspy-ipython-magic">HyperSpy IPython magic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#getting-help">Getting help</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#autocompletion">Autocompletion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#loading-data">Loading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#loading-data-from-a-numpy-array">&#8220;Loading&#8221; data from a numpy array</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#the-navigation-and-signal-dimensions">The navigation and signal dimensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#setting-axis-properties">Setting axis properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#saving-files">Saving Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#accessing-and-setting-the-metadata">Accessing and setting the metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/getting_started.html#configuring-hyperspy">Configuring HyperSpy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/tools.html">Tools: the Signal class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tools.html#the-signal-class-and-its-subclasses">The Signal class and its subclasses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#transforming-between-signal-subclasses">Transforming between signal subclasses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tools.html#the-navigation-and-signal-dimensions">The navigation and signal dimensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tools.html#binned-and-unbinned-signals">Binned and unbinned signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tools.html#generic-tools">Generic tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#indexing">Indexing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#signal-operations">Signal operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#iterating-over-the-navigation-axes">Iterating over the navigation axes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#cropping">Cropping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#rebinning">Rebinning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#folding-and-unfolding">Folding and unfolding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#splitting-and-stacking">Splitting and stacking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#simple-operations-over-one-axis">Simple operations over one axis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tools.html#changing-the-data-type">Changing the data type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tools.html#basic-statistical-analysis">Basic statistical analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tools.html#setting-the-noise-properties">Setting the noise properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/spectrum.html">Spectrum tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/spectrum.html#cropping">Cropping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/spectrum.html#background-removal">Background removal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/spectrum.html#calibration">Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/spectrum.html#spectral-alignment">Spectral alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/spectrum.html#integration">Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/spectrum.html#data-smoothing">Data smoothing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/spectrum.html#spikes-removal">Spikes removal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/spectrum.html#other-methods">Other methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image.html">Image tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image.html#image-registration-alignment">Image registration (alignment)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image.html#cropping-an-image">Cropping an image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/visualisation.html">Data visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/visualisation.html#multidimensional-spectral-data">Multidimensional spectral data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/visualisation.html#multidimensional-image-data">Multidimensional image data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/visualisation.html#customising-image-plot">Customising image plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/visualisation.html#customizing-the-navigator">Customizing the &#8220;navigator&#8221;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/visualisation.html#using-mayavi-to-visualize-3d-data">Using Mayavi to visualize 3D data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/visualisation.html#plotting-multiple-signals">Plotting multiple signals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/visualisation.html#plotting-several-images">Plotting several images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/visualisation.html#plotting-several-spectra">Plotting several spectra</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/visualisation.html#markers">Markers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/mva.html">Machine learning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/mva.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/mva.html#nomenclature">Nomenclature</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/mva.html#decomposition">Decomposition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/mva.html#poissonian-noise">Poissonian noise</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/mva.html#principal-component-analysis">Principal component analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/mva.html#data-denoising-dimensionality-reductions">Data denoising (dimensionality reductions)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/mva.html#blind-source-separation">Blind Source Separation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/mva.html#visualising-results">Visualising results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/mva.html#obtaining-the-results-as-signal-instances">Obtaining the results as Signal instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/mva.html#saving-and-loading-results">Saving and loading results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/mva.html#saving-in-the-main-file">Saving in the main file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/mva.html#saving-to-an-external-files">Saving to an external files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/mva.html#exporting">Exporting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/model.html">Curve fitting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#creating-a-model">Creating a model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#adding-components-to-the-model">Adding components to the model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#getting-and-setting-parameter-values-and-attributes">Getting and setting parameter values and attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#fitting-the-model-to-the-data">Fitting the model to the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#visualizing-the-model">Visualizing the model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#setting-the-initial-parameters">Setting the initial parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#exclude-data-from-the-fitting-process">Exclude data from the fitting process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#fitting-multidimensional-datasets">Fitting multidimensional datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#visualising-the-result-of-the-fit">Visualising the result of the fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#saving-and-loading-the-result-of-the-fit">Saving and loading the result of the fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#exporting-the-result-of-the-fit">Exporting the result of the fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/model.html#batch-setting-of-parameter-attributes">Batch setting of parameter attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/eels.html">Electron Energy Loss Spectroscopy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/eels.html#tools-for-eels-data-analysis">Tools for EELS data analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eels.html#elemental-composition-of-the-sample">Elemental composition of the sample</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eels.html#thickness-estimation">Thickness estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eels.html#zero-loss-peak-centre-and-alignment">Zero-loss peak centre and alignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eels.html#deconvolutions">Deconvolutions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eels.html#estimate-elastic-scattering-intensity">Estimate elastic scattering intensity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eels.html#kramers-kronig-analysis">Kramers-Kronig Analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/eels.html#eels-curve-fitting">EELS curve fitting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/eds.html">Energy-Dispersive X-Rays Spectrometry (EDS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/eds.html#spectrum-loading-and-parameters">Spectrum loading and parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#loading">Loading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#microscope-and-detector-parameters">Microscope and detector parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#energy-axis">Energy axis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#related-method">Related method</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/eds.html#describing-the-sample">Describing the sample</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#elements">Elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#x-ray-lines">X-ray lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#element-database">Element database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/eds.html#plotting">Plotting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#plot-x-ray-lines">Plot X-ray lines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/eds.html#get-lines-intensity">Get lines intensity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/eds.html#background-subtraction">Background subtraction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/eds.html#quantification">Quantification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/dielectric_function.html">Dielectric function tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/dielectric_function.html#number-of-effective-electrons">Number of effective electrons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/dielectric_function.html#compute-the-electron-energy-loss-signal">Compute the electron energy-loss signal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/io.html">Loading and saving data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/io.html#loading-files-the-load-function">Loading files: the load function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#loading-multiple-files">Loading multiple files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/io.html#saving-data-to-files">Saving data to files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/io.html#supported-formats">Supported formats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#hdf5">HDF5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#netcdf">NetCDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#mrc">MRC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#emsa-msa">EMSA/MSA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#ripple">Ripple</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#images">Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#tiff">TIFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#gatan-digital-micrograph">Gatan Digital Micrograph</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/io.html#fei-tia-ser-and-emi">FEI TIA ser and emi</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/metadata_structure.html">Metadata structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/metadata_structure.html#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/metadata_structure.html#acquisition-instrument">Acquisition_instrument</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/metadata_structure.html#tem">TEM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/metadata_structure.html#sem">SEM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/metadata_structure.html#detector">Detector</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/metadata_structure.html#sample">Sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/metadata_structure.html#signal">Signal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/metadata_structure.html#noise-properties">Noise_properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/metadata_structure.html#internal-parameters">_Internal_parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/metadata_structure.html#stacking-history">Stacking_history</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/metadata_structure.html#folding">Folding</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/bibliography.html">Bibliography</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/bibliography.html#id1">Bibliography</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/bibliography.html#peer-review-articles-with-results-obtained-using-hyperspy">Peer-review articles with results obtained using HyperSpy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">HyperSpy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>hyperspy._signals package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/hyperspy._signals.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="hyperspy-signals-package">
<h1>hyperspy._signals package<a class="headerlink" href="#hyperspy-signals-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-hyperspy._signals.dielectric_function">
<span id="hyperspy-signals-dielectric-function-module"></span><h2>hyperspy._signals.dielectric_function module<a class="headerlink" href="#module-hyperspy._signals.dielectric_function" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.dielectric_function.DielectricFunction">
<em class="property">class </em><code class="descclassname">hyperspy._signals.dielectric_function.</code><code class="descname">DielectricFunction</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwards</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.dielectric_function.DielectricFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.spectrum.Spectrum" title="hyperspy._signals.spectrum.Spectrum"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.spectrum.Spectrum</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.dielectric_function.DielectricFunction.get_electron_energy_loss_spectrum">
<code class="descname">get_electron_energy_loss_spectrum</code><span class="sig-paren">(</span><em>zlp</em>, <em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.dielectric_function.DielectricFunction.get_electron_energy_loss_spectrum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy._signals.dielectric_function.DielectricFunction.get_number_of_effective_electrons">
<code class="descname">get_number_of_effective_electrons</code><span class="sig-paren">(</span><em>nat</em>, <em>cumulative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.dielectric_function.DielectricFunction.get_number_of_effective_electrons" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Compute the number of effective electrons using the Bethe f-sum</dt>
<dd><p class="first">rule.</p>
<p class="last">The Bethe f-sum rule gives rise to two definitions of the effective
number (see <a class="reference internal" href="#id4" id="id1">[Egerton2011]</a>):
$n_{mathrm{eff}}left(-Imleft(epsilon^{-1}</p>
</dd>
</dl>
<p>ight)
ight)$ that</p>
<blockquote>
<div>we&#8217;ll call neff1 and
$n_{mathrm{eff}}left(epsilon_{2}</div></blockquote>
<dl class="docutils">
<dt>ight)$ that we&#8217;ll call neff2. This</dt>
<dd><p class="first">method computes both.</p>
<dl class="docutils">
<dt>nat: float</dt>
<dd>Number of atoms (or molecules) per unit volume of the
sample.</dd>
<dt>cumulative <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd>If False calculate the number of effective electrons up to the
higher energy-loss of the spectrum. If True, calculate the
number of effective electrons as a function of the energy-loss up
to the higher energy-loss of the spectrum. <em>True is only supported
by SciPy newer than 0.13.2</em>.</dd>
</dl>
<dl class="docutils">
<dt>neff1, neff2: Signal</dt>
<dd>Signal instances containing neff1 and neff2. The signal and
navigation dimensions are the same as the current signal if
<cite>cumulative</cite> is True, otherwise the signal dimension is 0
and the navigation dimension is the same as the current
signal.</dd>
</dl>
<table class="docutils citation" frame="void" id="egerton2011" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Egerton2011]</td><td>Ray Egerton, &#8220;Electron Energy-Loss</td></tr>
</tbody>
</table>
<p class="last">Spectroscopy in the Electron Microscope&#8221;, Springer-Verlag, 2011.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.eds">
<span id="hyperspy-signals-eds-module"></span><h2>hyperspy._signals.eds module<a class="headerlink" href="#module-hyperspy._signals.eds" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.eds.EDSSpectrum">
<em class="property">class </em><code class="descclassname">hyperspy._signals.eds.</code><code class="descname">EDSSpectrum</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwards</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.spectrum.Spectrum" title="hyperspy._signals.spectrum.Spectrum"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.spectrum.Spectrum</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.add_elements">
<code class="descname">add_elements</code><span class="sig-paren">(</span><em>elements</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.add_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add elements and the corresponding X-ray lines.</p>
<p>The list of elements is stored in <cite>metadata.Sample.elements</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>elements</strong> (<em>list of strings</em>) &#8211; The symbol of the elements.</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_elements</span><span class="p">([</span><span class="s">&#39;Ar&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">elements</span>
<span class="go">[&#39;Al&#39; &#39;C&#39; &#39;Cu&#39; &#39;Mn&#39; &#39;Zr&#39;]</span>
<span class="go">[&#39;Al&#39;, &#39;Ar&#39;, &#39;C&#39;, &#39;Cu&#39;, &#39;Mn&#39;, &#39;Zr&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.set_elements" title="hyperspy._signals.eds.EDSSpectrum.set_elements"><code class="xref py py-meth docutils literal"><span class="pre">set_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.add_lines" title="hyperspy._signals.eds.EDSSpectrum.add_lines"><code class="xref py py-meth docutils literal"><span class="pre">add_lines()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.set_lines" title="hyperspy._signals.eds.EDSSpectrum.set_lines"><code class="xref py py-meth docutils literal"><span class="pre">set_lines()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.add_lines">
<code class="descname">add_lines</code><span class="sig-paren">(</span><em>lines=()</em>, <em>only_one=True</em>, <em>only_lines=('a'</em>, <em>)</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.add_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Add X-rays lines to the internal list.</p>
<p>Although most functions do not require an internal list of
X-ray lines because they can be calculated from the internal
list of elements, ocassionally it might be useful to customize the
X-ray lines to be use by all functions by default using this method.
The list of X-ray lines is stored in
<cite>metadata.Sample.xray_lines</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lines</strong> (<em>list of strings</em>) &#8211; A list of valid element X-ray lines to add e.g. Fe_Kb.
Additionally, if <cite>metadata.Sample.elements</cite> is
defined, add the lines of those elements that where not
given in this list. If the list is empty (default), and
<cite>metadata.Sample.elements</cite> is
defined, add the lines of all those elements.</li>
<li><strong>only_one</strong> (<em>bool</em>) &#8211; If False, add all the lines of each element in
<cite>metadata.Sample.elements</cite> that has not line
defined in lines. If True (default),
only add the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</li>
<li><strong>only_lines</strong> (<em>{None, list of strings}</em>) &#8211; If not None, only the given lines will be added.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_La&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="n">beam_energy</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_Ka&#39;, &#39;Mn_Ka&#39;, &#39;Zr_La&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">([</span><span class="s">&#39;Cu_Ka&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_La&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_Ka&#39;, &#39;Cu_La&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.set_lines" title="hyperspy._signals.eds.EDSSpectrum.set_lines"><code class="xref py py-meth docutils literal"><span class="pre">set_lines()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.add_elements" title="hyperspy._signals.eds.EDSSpectrum.add_elements"><code class="xref py py-meth docutils literal"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.set_elements" title="hyperspy._signals.eds.EDSSpectrum.set_elements"><code class="xref py py-meth docutils literal"><span class="pre">set_elements()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.estimate_background_windows">
<code class="descname">estimate_background_windows</code><span class="sig-paren">(</span><em>line_width=[2, 2], windows_width=1, xray_lines=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.estimate_background_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate two windows around each X-ray line containing only the
background.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line_width</strong> (<em>list of two floats</em>) &#8211; The position of the two windows around the X-ray line is given by
the <cite>line_width</cite> (left and right) times the calculated FWHM of the
line.</li>
<li><strong>windows_width</strong> (<em>float</em>) &#8211; The width of the windows is is the <cite>windows_width</cite> times the
calculated FWHM of the line.</li>
<li><strong>xray_lines</strong> (<em>None or list of string</em>) &#8211; If None, use <cite>metadata.Sample.elements.xray_lines</cite>. Else,
provide an iterable containing a list of valid X-ray lines
symbols.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>windows_position</strong> &#8211; The position of the windows in energy. Each line corresponds to a
X-ray line. In a line, the two first values correspond to the
limits of the left window and the two last values correspond to
the limits of the right window.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">2D array of float</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">(</span><span class="n">line_width</span><span class="o">=</span><span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Fe_Ka at 6.4039 keV : Intensity = 2754.00</span>
<span class="go">Pt_La at 9.4421 keV : Intensity = 15090.00</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.plot" title="hyperspy._signals.eds.EDSSpectrum.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.get_lines_intensity" title="hyperspy._signals.eds.EDSSpectrum.get_lines_intensity"><code class="xref py py-meth docutils literal"><span class="pre">get_lines_intensity()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.estimate_integration_windows">
<code class="descname">estimate_integration_windows</code><span class="sig-paren">(</span><em>windows_width=2.0</em>, <em>xray_lines=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.estimate_integration_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate a window of integration for each X-ray line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>windows_width</strong> (<em>float</em>) &#8211; The width of the integration windows is the &#8216;windows_width&#8217; times
the calculated FWHM of the line.</li>
<li><strong>xray_lines</strong> (<em>None or list of string</em>) &#8211; If None, use &#8216;metadata.Sample.elements.xray_lines&#8217;. Else,
provide an iterable containing a list of valid X-ray lines
symbols.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>integration_windows</strong> &#8211; The positions of the windows in energy. Each row corresponds to a
X-ray line. Each row contains the left and right value of the
window.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">2D array of float</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_integration_windows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">integration_windows</span><span class="o">=</span><span class="n">iw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">(</span><span class="n">integration_windows</span><span class="o">=</span><span class="n">iw</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Fe_Ka at 6.4039 keV : Intensity = 3710.00</span>
<span class="go">Pt_La at 9.4421 keV : Intensity = 15872.00</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.plot" title="hyperspy._signals.eds.EDSSpectrum.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.get_lines_intensity" title="hyperspy._signals.eds.EDSSpectrum.get_lines_intensity"><code class="xref py py-meth docutils literal"><span class="pre">get_lines_intensity()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.get_lines_intensity">
<code class="descname">get_lines_intensity</code><span class="sig-paren">(</span><em>xray_lines=None</em>, <em>integration_windows=2.0</em>, <em>background_windows=None</em>, <em>plot_result=False</em>, <em>only_one=True</em>, <em>only_lines=('a'</em>, <em>)</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.get_lines_intensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the intensity map of selected Xray lines.</p>
<p>The intensities, the number of X-ray counts, are computed by
suming the spectrum over the
different X-ray lines. The sum window width
is calculated from the energy resolution of the detector
as defined in &#8216;energy_resolution_MnKa&#8217; of the metadata.
Backgrounds average in provided windows can be subtracted from the
intensities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xray_lines</strong> (<em>{None, &#8220;best&#8221;, list of string}</em>) &#8211; If None,
if <cite>metadata.Sample.elements.xray_lines</cite> contains a
list of lines use those.
If <cite>metadata.Sample.elements.xray_lines</cite> is undefined
or empty but <cite>metadata.Sample.elements</cite> is defined,
use the same syntax as <cite>add_line</cite> to select a subset of lines
for the operation.
Alternatively, provide an iterable containing
a list of valid X-ray lines symbols.</li>
<li><strong>integration_windows</strong> (<em>Float or array</em>) &#8211; If float, the width of the integration windows is the
&#8216;integration_windows_width&#8217; times the calculated FWHM of the line.
Else provide an array for which each row corresponds to a X-ray
line. Each row contains the left and right value of the window.</li>
<li><strong>background_windows</strong> (<em>None or 2D array of float</em>) &#8211; If None, no background subtraction. Else, the backgrounds average
in the windows are subtracted from the return intensities.
&#8216;background_windows&#8217; provides the position of the windows in
energy. Each line corresponds to a X-ray line. In a line, the two
first values correspond to the limits of the left window and the
two last values correspond to the limits of the right window.</li>
<li><strong>plot_result</strong> (<em>bool</em>) &#8211; If True, plot the calculated line intensities. If the current
object is a single spectrum it prints the result instead.</li>
<li><strong>only_one</strong> (<em>bool</em>) &#8211; If False, use all the lines of each element in the data spectral
range. If True use only the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</li>
<li><strong>only_lines</strong> (<em>{None, list of strings}</em>) &#8211; If not None, use only the given lines.</li>
<li><strong>kwargs</strong> &#8211; The extra keyword arguments for plotting. See
<cite>utils.plot.plot_signals</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>intensities</strong> &#8211; A list containing the intensities as Signal subclasses.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">([</span><span class="s">&#39;Mn_Ka&#39;</span><span class="p">],</span> <span class="n">plot_result</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Mn_La at 0.63316 keV : Intensity = 96700.00</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="s">&#39;Mn_Ka&#39;</span><span class="p">],</span> <span class="n">integration_windows</span><span class="o">=</span><span class="mf">2.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">([</span><span class="s">&#39;Mn_Ka&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">integration_windows</span><span class="o">=</span><span class="mf">2.1</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Mn_Ka at 5.8987 keV : Intensity = 53597.00</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_elements</span><span class="p">([</span><span class="s">&#39;Mn&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_lines</span><span class="p">([</span><span class="s">&#39;Mn_Ka&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Mn_Ka at 5.8987 keV : Intensity = 46716.00</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.set_elements" title="hyperspy._signals.eds.EDSSpectrum.set_elements"><code class="xref py py-meth docutils literal"><span class="pre">set_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.add_elements" title="hyperspy._signals.eds.EDSSpectrum.add_elements"><code class="xref py py-meth docutils literal"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.estimate_background_windows" title="hyperspy._signals.eds.EDSSpectrum.estimate_background_windows"><code class="xref py py-meth docutils literal"><span class="pre">estimate_background_windows()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.plot" title="hyperspy._signals.eds.EDSSpectrum.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.get_take_off_angle">
<code class="descname">get_take_off_angle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.get_take_off_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the take-off-angle (TOA).</p>
<p>TOA is the angle with which the X-rays leave the surface towards
the detector. Parameters are read in &#8216;SEM.tilt_stage&#8217;,
&#8216;Acquisition_instrument.SEM.Detector.EDS.azimuth_angle&#8217; and
&#8216;SEM.Detector.EDS.elevation_angle&#8217; in &#8216;metadata&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>take_off_angle</strong> &#8211; in Degree</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_take_off_angle</span><span class="p">()</span>
<span class="go">37.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="n">tilt_stage</span><span class="o">=</span><span class="mf">20.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_take_off_angle</span><span class="p">()</span>
<span class="go">57.0</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">hs.eds.take_off_angle()</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>Defined by M. Schaffer et al., Ultramicroscopy 107(8), pp 587-597
(2007)</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>xray_lines=False</em>, <em>only_lines=('a'</em>, <em>'b')</em>, <em>only_one=False</em>, <em>background_windows=None</em>, <em>integration_windows=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the EDS spectrum. The following markers can be added</p>
<ul class="simple">
<li>The position of the X-ray lines and their names.</li>
<li>The background windows associated with each X-ray lines. A black line</li>
</ul>
<p>links the left and right window with the average value in each window.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xray_lines</strong> (<em>{False, True, &#8216;from_elements&#8217;, list of string}</em>) &#8211; If not False, indicate the position and the name of the X-ray
lines.
If True, if <cite>metadata.Sample.elements.xray_lines</cite> contains a
list of lines use those. If <cite>metadata.Sample.elements.xray_lines</cite>
is undefined or empty or if xray_lines equals &#8216;from_elements&#8217; and
<cite>metadata.Sample.elements</cite> is defined, use the same syntax as
<cite>add_line</cite> to select a subset of lines for the operation.
Alternatively, provide an iterable containing a list of valid X-ray
lines symbols.</li>
<li><strong>only_lines</strong> (<em>None or list of strings</em>) &#8211; If not None, use only the given lines (eg. (&#8216;a&#8217;,&#8217;Kb&#8217;)).
If None, use all lines.</li>
<li><strong>only_one</strong> (<em>bool</em>) &#8211; If False, use all the lines of each element in the data spectral
range. If True use only the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</li>
<li><strong>background_windows</strong> (<em>None or 2D array of float</em>) &#8211; If not None, add markers at the position of the windows in energy.
Each line corresponds to a X-ray lines. In a line, the two first
value corresponds to the limit of the left window and the two
last values corresponds to the limit of the right window.</li>
<li><strong>integration_windows</strong> (<em>None or &#8216;auto&#8217; or float or 2D array of float</em>) &#8211; If not None, add markers at the position of the integration
windows.
If &#8216;auto&#8217; (or float), the width of the integration windows is 2.0
(or float) times the calculated FWHM of the line. see
&#8216;estimate_integration_windows&#8217;.
Else provide an array for which each row corresponds to a X-ray
line. Each row contains the left and right value of the window.</li>
<li><strong>kwargs</strong> &#8211; The extra keyword arguments for plot()</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="s">&#39;Mn_Ka&#39;</span><span class="p">],</span> <span class="n">integration_windows</span><span class="o">=</span><span class="s">&#39;auto&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">,</span> <span class="n">integration_windows</span><span class="o">=</span><span class="mf">2.1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.set_elements" title="hyperspy._signals.eds.EDSSpectrum.set_elements"><code class="xref py py-meth docutils literal"><span class="pre">set_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.add_elements" title="hyperspy._signals.eds.EDSSpectrum.add_elements"><code class="xref py py-meth docutils literal"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.estimate_integration_windows" title="hyperspy._signals.eds.EDSSpectrum.estimate_integration_windows"><code class="xref py py-meth docutils literal"><span class="pre">estimate_integration_windows()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.get_lines_intensity" title="hyperspy._signals.eds.EDSSpectrum.get_lines_intensity"><code class="xref py py-meth docutils literal"><span class="pre">get_lines_intensity()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.estimate_background_windows" title="hyperspy._signals.eds.EDSSpectrum.estimate_background_windows"><code class="xref py py-meth docutils literal"><span class="pre">estimate_background_windows()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.rebin">
<code class="descname">rebin</code><span class="sig-paren">(</span><em>new_shape</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebins the data to the new shape</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_shape</strong> (<em>tuple of ints</em>) &#8211; The new shape must be a divisor of the original shape</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">rebin</span><span class="p">([</span><span class="mi">512</span><span class="p">])</span>
<span class="go">&lt;EDSSEMSpectrum, title: EDS SEM Spectrum, dimensions: (|1024)&gt;</span>
<span class="go">&lt;EDSSEMSpectrum, title: EDS SEM Spectrum, dimensions: (|512)&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.set_elements">
<code class="descname">set_elements</code><span class="sig-paren">(</span><em>elements</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.set_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase all elements and set them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>elements</strong> (<em>list of strings</em>) &#8211; A list of chemical element symbols.</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.add_elements" title="hyperspy._signals.eds.EDSSpectrum.add_elements"><code class="xref py py-meth docutils literal"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.set_lines" title="hyperspy._signals.eds.EDSSpectrum.set_lines"><code class="xref py py-meth docutils literal"><span class="pre">set_lines()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.add_lines" title="hyperspy._signals.eds.EDSSpectrum.add_lines"><code class="xref py py-meth docutils literal"><span class="pre">add_lines()</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_elements</span><span class="p">([</span><span class="s">&#39;Al&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">elements</span>
<span class="go">[&#39;Al&#39; &#39;C&#39; &#39;Cu&#39; &#39;Mn&#39; &#39;Zr&#39;]</span>
<span class="go">[&#39;Al&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.set_lines">
<code class="descname">set_lines</code><span class="sig-paren">(</span><em>lines</em>, <em>only_one=True</em>, <em>only_lines=('a'</em>, <em>)</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.set_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase all Xrays lines and set them.</p>
<p>See add_lines for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lines</strong> (<em>list of strings</em>) &#8211; A list of valid element X-ray lines to add e.g. Fe_Kb.
Additionally, if <cite>metadata.Sample.elements</cite> is
defined, add the lines of those elements that where not
given in this list.</li>
<li><strong>only_one</strong> (<em>bool</em>) &#8211; If False, add all the lines of each element in
<cite>metadata.Sample.elements</cite> that has not line
defined in lines. If True (default),
only add the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</li>
<li><strong>only_lines</strong> (<em>{None, list of strings}</em>) &#8211; If not None, only the given lines will be added.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_lines</span><span class="p">([</span><span class="s">&#39;Cu_Ka&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_La&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_Ka&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.add_lines" title="hyperspy._signals.eds.EDSSpectrum.add_lines"><code class="xref py py-meth docutils literal"><span class="pre">add_lines()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.add_elements" title="hyperspy._signals.eds.EDSSpectrum.add_elements"><code class="xref py py-meth docutils literal"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum.set_elements" title="hyperspy._signals.eds.EDSSpectrum.set_elements"><code class="xref py py-meth docutils literal"><span class="pre">set_elements()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDSSpectrum.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum the data over the given axis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>{int, string}</em>) &#8211; The axis can be specified using the index of the axis in
<cite>axes_manager</cite> or the axis name.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>s</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal">Signal</a></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">sum_in_mask()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">mean()</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">array(1000279)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.eds_sem">
<span id="hyperspy-signals-eds-sem-module"></span><h2>hyperspy._signals.eds_sem module<a class="headerlink" href="#module-hyperspy._signals.eds_sem" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.eds_sem.EDSSEMSpectrum">
<em class="property">class </em><code class="descclassname">hyperspy._signals.eds_sem.</code><code class="descname">EDSSEMSpectrum</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwards</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_sem.EDSSEMSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum" title="hyperspy._signals.eds.EDSSpectrum"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.eds.EDSSpectrum</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.eds_sem.EDSSEMSpectrum.get_calibration_from">
<code class="descname">get_calibration_from</code><span class="sig-paren">(</span><em>ref</em>, <em>nb_pix=1</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_sem.EDSSEMSpectrum.get_calibration_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the calibration and all metadata of a reference.</p>
<p>Primary use: To add a calibration to ripple file from INCA
software</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ref</strong> (<a class="reference internal" href="hyperspy.tests.signal.html#module-hyperspy.tests.signal" title="hyperspy.tests.signal"><em>signal</em></a>) &#8211; The reference contains the calibration in its
metadata</li>
<li><strong>nb_pix</strong> (<em>int</em>) &#8211; The live time (real time corrected from the &#8220;dead time&#8221;)
is divided by the number of pixel (spectrums), giving an
average live time.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ref</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">EDSSEMSpectrum</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_calibration_from</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span>
<span class="go">1.0</span>
<span class="go">0.01</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds_sem.EDSSEMSpectrum.set_microscope_parameters">
<code class="descname">set_microscope_parameters</code><span class="sig-paren">(</span><em>beam_energy=None</em>, <em>live_time=None</em>, <em>tilt_stage=None</em>, <em>azimuth_angle=None</em>, <em>elevation_angle=None</em>, <em>energy_resolution_MnKa=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_sem.EDSSEMSpectrum.set_microscope_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the microscope parameters.</p>
<p>If no arguments are given, raises an interactive mode to fill
the values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>beam_energy</strong> (<em>float</em>) &#8211; The energy of the electron beam in keV</li>
<li><strong>live_time</strong> (<em>float</em>) &#8211; In second</li>
<li><strong>tilt_stage</strong> (<em>float</em>) &#8211; In degree</li>
<li><strong>azimuth_angle</strong> (<em>float</em>) &#8211; In degree</li>
<li><strong>elevation_angle</strong> (<em>float</em>) &#8211; In degree</li>
<li><strong>energy_resolution_MnKa</strong> (<em>float</em>) &#8211; In eV</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;Default value </span><span class="si">%s</span><span class="s"> eV&#39;</span> <span class="o">%</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Acquisition_instrument</span><span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">SEM</span><span class="o">.</span><span class="n">Detector</span><span class="o">.</span><span class="n">EDS</span><span class="o">.</span><span class="n">energy_resolution_MnKa</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="n">energy_resolution_MnKa</span><span class="o">=</span><span class="mf">135.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;Now set to </span><span class="si">%s</span><span class="s"> eV&#39;</span> <span class="o">%</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Acquisition_instrument</span><span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">SEM</span><span class="o">.</span><span class="n">Detector</span><span class="o">.</span><span class="n">EDS</span><span class="o">.</span><span class="n">energy_resolution_MnKa</span><span class="p">)</span>
<span class="go">Default value 130.0 eV</span>
<span class="go">Now set to 135.0 eV</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.eds_tem">
<span id="hyperspy-signals-eds-tem-module"></span><h2>hyperspy._signals.eds_tem module<a class="headerlink" href="#module-hyperspy._signals.eds_tem" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.eds_tem.EDSTEMSpectrum">
<em class="property">class </em><code class="descclassname">hyperspy._signals.eds_tem.</code><code class="descname">EDSTEMSpectrum</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwards</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum" title="hyperspy._signals.eds.EDSSpectrum"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.eds.EDSSpectrum</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.eds_tem.EDSTEMSpectrum.decomposition">
<code class="descname">decomposition</code><span class="sig-paren">(</span><em>normalize_poissonian_noise=True</em>, <em>navigation_mask=1.0</em>, <em>closing=True</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum.decomposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Decomposition with a choice of algorithms</p>
<p>The results are stored in self.learning_results</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>normalize_poissonian_noise</strong> (<em>bool</em>) &#8211; If True, scale the SI to normalize Poissonian noise</li>
<li><strong>navigation_mask</strong> (<em>None or float or boolean numpy array</em>) &#8211; The navigation locations marked as True are not used in the
decompostion. If float is given the vacuum_mask method is used to
generate a mask with the float value as threshold.</li>
<li><strong>closing</strong> (<em>bool</em>) &#8211; If true, applied a morphologic closing to the maks obtained by
vacuum_mask.</li>
<li><strong>algorithm</strong> (<em>&#8216;svd&#8217; | &#8216;fast_svd&#8217; | &#8216;mlpca&#8217; | &#8216;fast_mlpca&#8217; | &#8216;nmf&#8217; |</em>) &#8211; &#8216;sparse_pca&#8217; | &#8216;mini_batch_sparse_pca&#8217;</li>
<li><strong>output_dimension</strong> (<em>None or int</em>) &#8211; number of components to keep/calculate</li>
<li><strong>centre</strong> (<em>None | &#8216;variables&#8217; | &#8216;trials&#8217;</em>) &#8211; If None no centring is applied. If &#8216;variable&#8217; the centring will be
performed in the variable axis. If &#8216;trials&#8217;, the centring will be
performed in the &#8216;trials&#8217; axis. It only has effect when using the
svd or fast_svd algorithms</li>
<li><strong>auto_transpose</strong> (<em>bool</em>) &#8211; If True, automatically transposes the data to boost performance.
Only has effect when using the svd of fast_svd algorithms.</li>
<li><strong>signal_mask</strong> (<em>boolean numpy array</em>) &#8211; The signal locations marked as True are not used in the
decomposition.</li>
<li><strong>var_array</strong> (<em>numpy array</em>) &#8211; Array of variance for the maximum likelihood PCA algorithm</li>
<li><strong>var_func</strong> (<em>function or numpy array</em>) &#8211; If function, it will apply it to the dataset to obtain the
var_array. Alternatively, it can a an array with the coefficients
of a polynomial.</li>
<li><strong>polyfit</strong> &#8211; </li>
<li><strong>reproject</strong> (<em>None | signal | navigation | both</em>) &#8211; If not None, the results of the decomposition will be projected in
the selected masked area.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">s</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">change_dtype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">decomposition</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum.vacuum_mask" title="hyperspy._signals.eds_tem.EDSTEMSpectrum.vacuum_mask"><code class="xref py py-meth docutils literal"><span class="pre">vacuum_mask()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds_tem.EDSTEMSpectrum.get_calibration_from">
<code class="descname">get_calibration_from</code><span class="sig-paren">(</span><em>ref</em>, <em>nb_pix=1</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum.get_calibration_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the calibration and all metadata of a reference.</p>
<p>Primary use: To add a calibration to ripple file from INCA
software</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ref</strong> (<a class="reference internal" href="hyperspy.tests.signal.html#module-hyperspy.tests.signal" title="hyperspy.tests.signal"><em>signal</em></a>) &#8211; The reference contains the calibration in its
metadata</li>
<li><strong>nb_pix</strong> (<em>int</em>) &#8211; The live time (real time corrected from the &#8220;dead time&#8221;)
is divided by the number of pixel (spectrums), giving an
average live time.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ref</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">EDSTEMSpectrum</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_calibration_from</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span>
<span class="go">1.0</span>
<span class="go">0.020028</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds_tem.EDSTEMSpectrum.quantification">
<code class="descname">quantification</code><span class="sig-paren">(</span><em>intensities</em>, <em>kfactors</em>, <em>composition_units='weight'</em>, <em>navigation_mask=1.0</em>, <em>closing=True</em>, <em>plot_result=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum.quantification" title="Permalink to this definition">¶</a></dt>
<dd><p>Quantification of intensities to return elemental composition</p>
<p>Method: Cliff-Lorimer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>intensities</strong> (<em>list of signal</em>) &#8211; the intensitiy for each X-ray lines.</li>
<li><strong>kfactors</strong> (<em>list of float</em>) &#8211; The list of kfactor in same order as intensities. Note that
intensities provided by hyperspy are sorted by the aplhabetical
order of the X-ray lines. eg. kfactors =[0.982, 1.32, 1.60] for
[&#8216;Al_Ka&#8217;,&#8217;Cr_Ka&#8217;, &#8216;Ni_Ka&#8217;].</li>
<li><strong>composition_units</strong> (<em>&#8216;weight&#8217; or &#8216;atomic&#8217;</em>) &#8211; Quantification returns weight percent. By choosing &#8216;atomic&#8217;, the
return composition is in atomic percent.</li>
<li><strong>navigation_mask</strong> (<em>None or float or signal</em>) &#8211; The navigation locations marked as True are not used in the
quantification. If int is given the vacuum_mask method is used to
generate a mask with the int value as threhsold.
Else provides a signal with the navigation shape.</li>
<li><strong>closing</strong> (<em>bool</em>) &#8211; If true, applied a morphologic closing to the mask obtained by
vacuum_mask.</li>
<li><strong>plot_result</strong> (<em>bool</em>) &#8211; If True, plot the calculated composition. If the current
object is a single spectrum it prints the result instead.</li>
<li><strong>kwargs</strong> &#8211; The extra keyword arguments are passed to plot.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>A list of quantified elemental maps (signal) giving the composition of</em></li>
<li><em>the sample in weight or atomic percent.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kfactors</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.450226</span><span class="p">,</span> <span class="mf">5.075602</span><span class="p">]</span> <span class="c">#For Fe Ka and Pt La</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">(</span><span class="n">line_width</span><span class="o">=</span><span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">intensities</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">quantification</span><span class="p">(</span><span class="n">intensities</span><span class="p">,</span> <span class="n">kfactors</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">composition_units</span><span class="o">=</span><span class="s">&#39;atomic&#39;</span><span class="p">)</span>
<span class="go">Fe (Fe_Ka): Composition = 15.41 atomic percent</span>
<span class="go">Pt (Pt_La): Composition = 84.59 atomic percent</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum.vacuum_mask" title="hyperspy._signals.eds_tem.EDSTEMSpectrum.vacuum_mask"><code class="xref py py-meth docutils literal"><span class="pre">vacuum_mask()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds_tem.EDSTEMSpectrum.set_microscope_parameters">
<code class="descname">set_microscope_parameters</code><span class="sig-paren">(</span><em>beam_energy=None</em>, <em>live_time=None</em>, <em>tilt_stage=None</em>, <em>azimuth_angle=None</em>, <em>elevation_angle=None</em>, <em>energy_resolution_MnKa=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum.set_microscope_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the microscope parameters.</p>
<p>If no arguments are given, raises an interactive mode to fill
the values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>beam_energy</strong> (<em>float</em>) &#8211; The energy of the electron beam in keV</li>
<li><strong>live_time</strong> (<em>float</em>) &#8211; In second</li>
<li><strong>tilt_stage</strong> (<em>float</em>) &#8211; In degree</li>
<li><strong>azimuth_angle</strong> (<em>float</em>) &#8211; In degree</li>
<li><strong>elevation_angle</strong> (<em>float</em>) &#8211; In degree</li>
<li><strong>energy_resolution_MnKa</strong> (<em>float</em>) &#8211; In eV</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Acquisition_instrument</span><span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">TEM</span><span class="o">.</span><span class="n">Detector</span><span class="o">.</span><span class="n">EDS</span><span class="o">.</span><span class="n">energy_resolution_MnKa</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="n">energy_resolution_MnKa</span><span class="o">=</span><span class="mf">135.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Acquisition_instrument</span><span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">TEM</span><span class="o">.</span><span class="n">Detector</span><span class="o">.</span><span class="n">EDS</span><span class="o">.</span><span class="n">energy_resolution_MnKa</span><span class="p">)</span>
<span class="go">133.312296</span>
<span class="go">135.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds_tem.EDSTEMSpectrum.vacuum_mask">
<code class="descname">vacuum_mask</code><span class="sig-paren">(</span><em>threshold=1.0</em>, <em>closing=True</em>, <em>opening=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum.vacuum_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate mask of the vacuum region</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>threshold</strong> (<em>float</em>) &#8211; For a given pixel, maximum value in the energy axis below which the
pixel is considered as vacuum.</li>
<li><strong>closing</strong> (<em>bool</em>) &#8211; If true, applied a morphologic closing to the mask</li>
<li><strong>opnening</strong> (<em>bool</em>) &#8211; If true, applied a morphologic opening to the mask</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Simulate a spectrum image with vacuum region</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s_vac</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Simulation</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span><span class="o">*</span><span class="mf">0.005</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s_vac</span><span class="o">.</span><span class="n">add_poissonian_noise</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">s</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span> <span class="o">+</span> <span class="p">[</span><span class="n">s_vac</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">vacuum_mask</span><span class="p">()</span><span class="o">.</span><span class="n">data</span>
<span class="go">array([False, False, False,  True], dtype=bool)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>mask</strong> &#8211; The mask of the region</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="hyperspy.tests.signal.html#module-hyperspy.tests.signal" title="hyperspy.tests.signal">signal</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.eels">
<span id="hyperspy-signals-eels-module"></span><h2>hyperspy._signals.eels module<a class="headerlink" href="#module-hyperspy._signals.eels" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.eels.EELSSpectrum">
<em class="property">class </em><code class="descclassname">hyperspy._signals.eels.</code><code class="descname">EELSSpectrum</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwards</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.spectrum.Spectrum" title="hyperspy._signals.spectrum.Spectrum"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.spectrum.Spectrum</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.add_elements">
<code class="descname">add_elements</code><span class="sig-paren">(</span><em>elements</em>, <em>include_pre_edges=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.add_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare the elemental composition of the sample.</p>
<p>The ionisation edges of the elements present in the current
energy range will be added automatically.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>elements</strong> (<em>tuple of strings</em>) &#8211; The symbol of the elements. Note this input must always be
in the form of a tuple. Meaning: add_elements((&#8216;C&#8217;,)) will
work, while add_elements((&#8216;C&#8217;)) will NOT work.</li>
<li><strong>include_pre_edges</strong> (<em>bool</em>) &#8211; If True, the ionization edges with an onset below the lower
energy limit of the SI will be incluided</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">EELSSpectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1024</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_elements</span><span class="p">((</span><span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="s">&#39;O&#39;</span><span class="p">))</span>
<span class="go">Adding C_K subshell</span>
<span class="go">Adding O_K subshell</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.align_zero_loss_peak">
<code class="descname">align_zero_loss_peak</code><span class="sig-paren">(</span><em>calibrate=True</em>, <em>also_align=[]</em>, <em>print_stats=True</em>, <em>subpixel=True</em>, <em>mask=None</em>, <em>show_progressbar=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.align_zero_loss_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Align the zero-loss peak.</p>
<p>This function first aligns the spectra using the result of
<cite>estimate_zero_loss_peak_centre</cite> and afterward, if subpixel is True,
proceeds to align with subpixel accuracy using <cite>align1D</cite>. The offset
is automatically correct if <cite>calibrate</cite> is True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>calibrate</strong> (<em>bool</em>) &#8211; If True, set the offset of the spectral axis so that the
zero-loss peak is at position zero.</li>
<li><strong>also_align</strong> (<em>list of signals</em>) &#8211; A list containing other spectra of identical dimensions to
align using the shifts applied to the current spectrum.
If <cite>calibrate</cite> is True, the calibration is also applied to
the spectra in the list.</li>
<li><strong>print_stats</strong> (<em>bool</em>) &#8211; If True, print summary statistics the ZLP maximum before
the aligment.</li>
<li><strong>subpixel</strong> (<em>bool</em>) &#8211; If True, perform the alignment with subpixel accuracy
using cross-correlation.</li>
<li><strong>mask</strong> (<em>Signal of bool data type.</em>) &#8211; It must have signal_dimension = 0 and navigation_shape equal to the
current signal. Where mask is True the shift is not computed
and set to nan.</li>
<li><strong>show_progressbar</strong> (<em>None or bool</em>) &#8211; If True, display a progress bar. If None the default is set in
<cite>preferences</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum.estimate_zero_loss_peak_centre" title="hyperspy._signals.eels.EELSSpectrum.estimate_zero_loss_peak_centre"><code class="xref py py-meth docutils literal"><span class="pre">estimate_zero_loss_peak_centre()</span></code></a>, <code class="xref py py-meth docutils literal"><span class="pre">align1D()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">estimate_shift1D.()</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>Any extra keyword arguments are passed to <cite>align1D</cite>. For
more information read its docstring.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.create_model">
<code class="descname">create_model</code><span class="sig-paren">(</span><em>ll=None</em>, <em>auto_background=True</em>, <em>auto_add_edges=True</em>, <em>GOS=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.create_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a model for the current EELS data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ll</strong> (<em>EELSSpectrum, optional</em>) &#8211; If an EELSSpectrum is provided, it will be assumed that it is
a low-loss EELS spectrum, and it will be used to simulate the
effect of multiple scattering by convolving it with the EELS
spectrum.</li>
<li><strong>auto_background</strong> (<em>boolean, default True</em>) &#8211; If True, and if spectrum is an EELS instance adds automatically
a powerlaw to the model and estimate the parameters by the
two-area method.</li>
<li><strong>auto_add_edges</strong> (<em>boolean, default True</em>) &#8211; If True, and if spectrum is an EELS instance, it will
automatically add the ionization edges as defined in the
Spectrum instance. Adding a new element to the spectrum using
the components.EELSSpectrum.add_elements method automatically
add the corresponding ionisation edges to the model.</li>
<li><strong>GOS</strong> (<em>{&#8216;hydrogenic&#8217; | &#8216;Hartree-Slater&#8217;}, optional</em>) &#8211; The generalized oscillation strenght calculations to use for the
core-loss EELS edges. If None the Hartree-Slater GOS are used if
available, otherwise it uses the hydrogenic GOS.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>model</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><cite>EELSModel</cite> instance.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_intensity">
<code class="descname">estimate_elastic_scattering_intensity</code><span class="sig-paren">(</span><em>threshold</em>, <em>show_progressbar=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_intensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Rough estimation of the elastic scattering intensity by
truncation of a EELS low-loss spectrum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>threshold</strong> (<em>{Signal, float, int}</em>) &#8211; Truncation energy to estimate the intensity of the
elastic scattering. The
threshold can be provided as a signal of the same dimension
as the input spectrum navigation space containing the
threshold value in the energy units. Alternatively a constant
threshold can be specified in energy/index units by passing
float/int.</li>
<li><strong>show_progressbar</strong> (<em>None or bool</em>) &#8211; If True, display a progress bar. If None the default is set in
<cite>preferences</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>I0</strong> &#8211; The elastic scattering intensity.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal">Signal</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_threshold" title="hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_threshold"><code class="xref py py-meth docutils literal"><span class="pre">estimate_elastic_scattering_threshold()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_threshold">
<code class="descname">estimate_elastic_scattering_threshold</code><span class="sig-paren">(</span><em>window=10.0</em>, <em>tol=None</em>, <em>window_length=5</em>, <em>polynomial_order=3</em>, <em>start=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the first inflexion point of the spectrum derivative
within a window.</p>
<p>This method assumes that the zero-loss peak is located at position zero
in all the spectra. Currently it looks for an inflexion point, that can
be a local maximum or minimum. Therefore, to estimate the elastic
scattering threshold <cite>start</cite> + <cite>window</cite> must be less than the first
maximum for all spectra (often the bulk plasmon maximum). If there is
more than one inflexion point in energy the window it selects the
smoother one what, often, but not always, is a good choice in this
case.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>window</strong> (<em>{None, float}</em>) &#8211; If None, the search for the local inflexion point is performed
using the full energy range. A positive float will restrict
the search to the (0,window] energy window, where window is given
in the axis units. If no inflexion point is found in this
spectral range the window value is returned instead.</li>
<li><strong>tol</strong> (<em>{None, float}</em>) &#8211; The threshold tolerance for the derivative. If &#8220;auto&#8221; it is
automatically calculated as the minimum value that guarantees
finding an inflexion point in all the spectra in given energy
range.</li>
<li><strong>window_length</strong> (<em>int</em>) &#8211; If non zero performs order three Savitzky-Golay smoothing
to the data to avoid falling in local minima caused by
the noise. It must be an odd interger.</li>
<li><strong>polynomial_order</strong> (<em>int</em>) &#8211; Savitzky-Golay filter polynomial order.</li>
<li><strong>start</strong> (<em>float</em>) &#8211; Position from the zero-loss peak centre from where to start
looking for the inflexion point.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>threshold</strong> &#8211; A Signal of the same dimension as the input spectrum
navigation space containing the estimated threshold. Where the
threshold couldn&#8217;t be estimated the value is set to nan.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal">Signal</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_intensity" title="hyperspy._signals.eels.EELSSpectrum.estimate_elastic_scattering_intensity"><code class="xref py py-meth docutils literal"><span class="pre">estimate_elastic_scattering_intensity()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum.align_zero_loss_peak" title="hyperspy._signals.eels.EELSSpectrum.align_zero_loss_peak"><code class="xref py py-meth docutils literal"><span class="pre">align_zero_loss_peak()</span></code></a>, <code class="xref py py-meth docutils literal"><span class="pre">find_peaks1D_ohaver()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">fourier_ratio_deconvolution.()</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>The main purpose of this method is to be used as input for
<cite>estimate_elastic_scattering_intensity</cite>. Indeed, for currently
achievable energy resolutions, there is not such a thing as a elastic
scattering threshold. Therefore, please be aware of the limitations of
this method when using it.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.estimate_thickness">
<code class="descname">estimate_thickness</code><span class="sig-paren">(</span><em>threshold</em>, <em>zlp=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.estimate_thickness" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the thickness (relative to the mean free path)
of a sample using the log-ratio method.</p>
<p>The current EELS spectrum must be a low-loss spectrum containing
the zero-loss peak. The hyperspectrum must be well calibrated
and aligned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>threshold</strong> (<em>{Signal, float, int}</em>) &#8211; Truncation energy to estimate the intensity of the
elastic scattering. The
threshold can be provided as a signal of the same dimension
as the input spectrum navigation space containing the
threshold value in the energy units. Alternatively a constant
threshold can be specified in energy/index units by passing
float/int.</li>
<li><strong>zlp</strong> (<em>{None, EELSSpectrum}</em>) &#8211; If not None the zero-loss
peak intensity is calculated from the ZLP spectrum
supplied by integration using Simpson&#8217;s rule. If None estimates
the zero-loss peak intensity using
<cite>estimate_elastic_scattering_intensity</cite> by truncation.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>s</strong> &#8211; The thickness relative to the MFP. It returns a Spectrum,
Image or a Signal, depending on the currenct spectrum navigation
dimensions.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal">Signal</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>For details see: Egerton, R. Electron Energy-Loss
Spectroscopy in the Electron Microscope. Springer-Verlag, 2011.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.estimate_zero_loss_peak_centre">
<code class="descname">estimate_zero_loss_peak_centre</code><span class="sig-paren">(</span><em>mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.estimate_zero_loss_peak_centre" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the posision of the zero-loss peak.</p>
<p>This function provides just a coarse estimation of the position
of the zero-loss peak centre by computing the position of the maximum
of the spectra. For subpixel accuracy use <cite>estimate_shift1D</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mask</strong> (<em>Signal of bool data type.</em>) &#8211; It must have signal_dimension = 0 and navigation_shape equal to the
current signal. Where mask is True the shift is not computed
and set to nan.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>zlpc</strong> &#8211; The estimated position of the maximum of the ZLP peak.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Signal subclass</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function only works when the zero-loss peak is the most
intense feature in the spectrum. If it is not in most cases
the spectrum can be cropped to meet this criterium.
Alternatively use <cite>estimate_shift1D</cite>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">estimate_shift1D()</span></code>, <a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum.align_zero_loss_peak" title="hyperspy._signals.eels.EELSSpectrum.align_zero_loss_peak"><code class="xref py py-meth docutils literal"><span class="pre">align_zero_loss_peak()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.fourier_log_deconvolution">
<code class="descname">fourier_log_deconvolution</code><span class="sig-paren">(</span><em>zlp</em>, <em>add_zlp=False</em>, <em>crop=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.fourier_log_deconvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs fourier-log deconvolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zlp</strong> (<a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum" title="hyperspy._signals.eels.EELSSpectrum"><em>EELSSpectrum</em></a>) &#8211; The corresponding zero-loss peak.</li>
<li><strong>add_zlp</strong> (<em>bool</em>) &#8211; If True, adds the ZLP to the deconvolved spectrum</li>
<li><strong>crop</strong> (<em>bool</em>) &#8211; If True crop the spectrum to leave out the channels that
have been modified to decay smoothly to zero at the sides
of the spectrum.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">An EELSSpectrum containing the current data deconvolved.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>For details see: Egerton, R. Electron Energy-Loss
Spectroscopy in the Electron Microscope. Springer-Verlag, 2011.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.fourier_ratio_deconvolution">
<code class="descname">fourier_ratio_deconvolution</code><span class="sig-paren">(</span><em>ll</em>, <em>fwhm=None</em>, <em>threshold=None</em>, <em>extrapolate_lowloss=True</em>, <em>extrapolate_coreloss=True</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.fourier_ratio_deconvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs Fourier-ratio deconvolution.</p>
<dl class="docutils">
<dt>The core-loss should have the background removed. To reduce</dt>
<dd>the noise amplication the result is convolved with a</dd>
</dl>
<p>Gaussian function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ll</strong> (<a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum" title="hyperspy._signals.eels.EELSSpectrum"><em>EELSSpectrum</em></a>) &#8211; The corresponding low-loss (ll) EELSSpectrum.</li>
<li><strong>fwhm</strong> (<em>float or None</em>) &#8211; Full-width half-maximum of the Gaussian function by which
the result of the deconvolution is convolved. It can be
used to select the final SNR and spectral resolution. If
None, the FWHM of the zero-loss peak of the low-loss is
estimated and used.</li>
<li><strong>threshold</strong> (<em>{None, float}</em>) &#8211; <p>Truncation energy to estimate the intensity of the
elastic scattering. If None the threshold is taken as the</p>
<blockquote>
<div>first minimum after the ZLP centre.</div></blockquote>
</li>
<li><strong>extrapolate_coreloss</strong> (<em>extrapolate_lowloss,</em>) &#8211; If True the signals are extrapolated using a power law,</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>For details see: Egerton, R. Electron Energy-Loss
Spectroscopy in the Electron Microscope. Springer-Verlag, 2011.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.generate_subshells">
<code class="descname">generate_subshells</code><span class="sig-paren">(</span><em>include_pre_edges=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.generate_subshells" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the subshells for the current energy range for the
elements present in self.elements</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>include_pre_edges</strong> (<em>bool</em>) &#8211; If True, the ionization edges with an onset below the lower
energy limit of the SI will be incluided</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.kramers_kronig_analysis">
<code class="descname">kramers_kronig_analysis</code><span class="sig-paren">(</span><em>zlp=None</em>, <em>iterations=1</em>, <em>n=None</em>, <em>t=None</em>, <em>delta=0.5</em>, <em>full_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.kramers_kronig_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the complex
dielectric function from a single scattering distribution (SSD) using
the Kramers-Kronig relations.</p>
<p>It uses the FFT method as in <a class="reference internal" href="#id4" id="id2">[Egerton2011]</a>.  The SSD is an
EELSSpectrum instance containing SSD low-loss EELS with no zero-loss
peak. The internal loop is devised to approximately subtract the
surface plasmon contribution supposing an unoxidized planar surface and
neglecting coupling between the surfaces. This method does not account
for retardation effects, instrumental broading and surface plasmon
excitation in particles.</p>
<p>Note that either refractive index or thickness are required.
If both are None or if both are provided an exception is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zlp</strong> (<em>{None, number, Signal}</em>) &#8211; ZLP intensity. It is optional (can be None) if <cite>t</cite> is None and <cite>n</cite>
is not None and the thickness estimation is not required. If <cite>t</cite>
is not None, the ZLP is required to perform the normalization and
if <cite>t</cite> is not None, the ZLP is required to calculate the thickness.
If the ZLP is the same for all spectra, the integral of the ZLP
can be provided as a number. Otherwise, if the ZLP intensity is not
the same for all spectra, it can be provided as i) a Signal
of the same dimensions as the current signal containing the ZLP
spectra for each location ii) a Signal of signal dimension 0
and navigation_dimension equal to the current signal containing the
integrated ZLP intensity.</li>
<li><strong>iterations</strong> (<em>int</em>) &#8211; Number of the iterations for the internal loop to remove the
surface plasmon contribution. If 1 the surface plasmon contribution
is not estimated and subtracted (the default is 1).</li>
<li><strong>n</strong> (<em>{None, float}</em>) &#8211; The medium refractive index. Used for normalization of the
SSD to obtain the energy loss function. If given the thickness
is estimated and returned. It is only required when <cite>t</cite> is None.</li>
<li><strong>t</strong> (<em>{None, number, Signal}</em>) &#8211; The sample thickness in nm. Used for normalization of the
SSD to obtain the energy loss function. It is only required when
<cite>n</cite> is None. If the thickness is the same for all spectra it can be
given by a number. Otherwise, it can be provided as a Signal with
signal dimension 0 and navigation_dimension equal to the current
signal.</li>
<li><strong>delta</strong> (<em>float</em>) &#8211; A small number (0.1-0.5 eV) added to the energy axis in
specific steps of the calculation the surface loss correction to
improve stability.</li>
<li><strong>full_output</strong> (<em>bool</em>) &#8211; If True, return a dictionary that contains the estimated
thickness if <cite>t</cite> is None and the estimated surface plasmon
excitation and the spectrum corrected from surface plasmon
excitations if <cite>iterations</cite> &gt; 1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul>
<li><dl class="first docutils">
<dt><strong>eps</strong> (<em>DielectricFunction instance</em>) &#8211; The complex dielectric function results,</dt>
<dd><p class="first last">$epsilon = epsilon_1 + i*epsilon_2$,</p>
</dd>
</dl>
<p>contained in an DielectricFunction instance.</p>
</li>
<li><p class="first"><strong>output</strong> (<em>Dictionary (optional)</em>) &#8211; A dictionary of optional outputs with the following keys:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">thickness</span></code></dt>
<dd><p class="first last">The estimated  thickness in nm calculated by normalization of
the SSD (only when <cite>t</cite> is None)</p>
</dd>
<dt><code class="docutils literal"><span class="pre">surface</span> <span class="pre">plasmon</span> <span class="pre">estimation</span></code></dt>
<dd><p class="first last">The estimated surface plasmon excitation (only if
<cite>iterations</cite> &gt; 1.)</p>
</dd>
</dl>
</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">ValuerError</span></code> &#8211; If both <cite>n</cite> and <cite>t</cite> are undefined (None).</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">AttribureError</span></code> &#8211; If the beam_energy or the collection angle are not defined in
metadata.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This method is based in Egerton&#8217;s Matlab code <a class="reference internal" href="#id4" id="id3">[Egerton2011]</a> with some
minor differences:</p>
<ul class="simple">
<li>The integrals are performed using the simpsom rule instead of using
a summation.</li>
<li>The wrap-around problem when computing the ffts is workarounded by
padding the signal instead of substracting the reflected tail.</li>
</ul>
<table class="docutils citation" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Egerton2011]</td><td>Ray Egerton, &#8220;Electron Energy-Loss
Spectroscopy in the Electron Microscope&#8221;, Springer-Verlag, 2011.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.power_law_extrapolation">
<code class="descname">power_law_extrapolation</code><span class="sig-paren">(</span><em>window_size=20</em>, <em>extrapolation_size=1024</em>, <em>add_noise=False</em>, <em>fix_neg_r=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.power_law_extrapolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Extrapolate the spectrum to the right using a powerlaw</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>window_size</strong> (<em>int</em>) &#8211; The number of channels from the right side of the
spectrum that are used to estimate the power law
parameters.</li>
<li><strong>extrapolation_size</strong> (<em>int</em>) &#8211; Size of the extrapolation in number of channels</li>
<li><strong>add_noise</strong> (<em>bool</em>) &#8211; If True, add poissonian noise to the extrapolated spectrum.</li>
<li><strong>fix_neg_r</strong> (<em>bool</em>) &#8211; If True, the negative values for the &#8220;components.PowerLaw&#8221;
parameter r will be flagged and the extrapolation will be
done with a constant zero-value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A new spectrum, with the extrapolation.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.richardson_lucy_deconvolution">
<code class="descname">richardson_lucy_deconvolution</code><span class="sig-paren">(</span><em>psf</em>, <em>iterations=15</em>, <em>mask=None</em>, <em>show_progressbar=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.richardson_lucy_deconvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>1D Richardson-Lucy Poissonian deconvolution of
the spectrum by the given kernel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>iterations</strong> (<em>int</em>) &#8211; Number of iterations of the deconvolution. Note that
increasing the value will increase the noise amplification.</li>
<li><strong>psf</strong> (<a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum" title="hyperspy._signals.eels.EELSSpectrum"><em>EELSSpectrum</em></a>) &#8211; It must have the same signal dimension as the current
spectrum and a spatial dimension of 0 or the same as the
current spectrum.</li>
<li><strong>show_progressbar</strong> (<em>None or bool</em>) &#8211; If True, display a progress bar. If None the default is set in
<cite>preferences</cite>.</li>
<li><strong>Notes</strong> &#8211; </li>
<li><strong>-----</strong> &#8211; </li>
<li><strong>details on the algorithm see Gloter, A., A. Douiri,</strong> (<em>For</em>) &#8211; </li>
<li><strong>Tence, and C. Colliex. “Improving Energy Resolution of</strong> (<em>M.</em>) &#8211; </li>
<li><strong>Spectra</strong> (<em>EELS</em>) &#8211; </li>
<li><strong>96, no. 3–4 (September 2003)</strong> (<em>Ultramicroscopy</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eels.EELSSpectrum.set_microscope_parameters">
<code class="descname">set_microscope_parameters</code><span class="sig-paren">(</span><em>beam_energy=None</em>, <em>convergence_angle=None</em>, <em>collection_angle=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels.EELSSpectrum.set_microscope_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the microscope parameters that are necessary to calculate
the GOS.</p>
<p>If not all of them are defined, raises in interactive mode
raises an UI item to fill the values</p>
<dl class="docutils">
<dt>beam_energy: float</dt>
<dd>The energy of the electron beam in keV</dd>
<dt>convengence_angle <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>In mrad.</dd>
<dt>collection_angle <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>In mrad.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.eels_spectrum_simulation">
<span id="hyperspy-signals-eels-spectrum-simulation-module"></span><h2>hyperspy._signals.eels_spectrum_simulation module<a class="headerlink" href="#module-hyperspy._signals.eels_spectrum_simulation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.eels_spectrum_simulation.EELSSpectrumSimulation">
<em class="property">class </em><code class="descclassname">hyperspy._signals.eels_spectrum_simulation.</code><code class="descname">EELSSpectrumSimulation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eels_spectrum_simulation.EELSSpectrumSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.spectrum_simulation.SpectrumSimulation" title="hyperspy._signals.spectrum_simulation.SpectrumSimulation"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.spectrum_simulation.SpectrumSimulation</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eels.EELSSpectrum" title="hyperspy._signals.eels.EELSSpectrum"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.eels.EELSSpectrum</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.image">
<span id="hyperspy-signals-image-module"></span><h2>hyperspy._signals.image module<a class="headerlink" href="#module-hyperspy._signals.image" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.image.Image">
<em class="property">class </em><code class="descclassname">hyperspy._signals.image.</code><code class="descname">Image</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.image.Image" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal"><code class="xref py py-class docutils literal"><span class="pre">hyperspy.signal.Signal</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.image.Image.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>colorbar=True</em>, <em>scalebar=True</em>, <em>scalebar_color='white'</em>, <em>axes_ticks=None</em>, <em>auto_contrast=True</em>, <em>saturated_pixels=0</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>no_nans=False</em>, <em>centre_colormap='auto'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.image.Image.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot image.</p>
<p>For multidimensional datasets an optional figure,
the &#8220;navigator&#8221;, with a cursor to navigate that data is
raised. In any case it is possible to navigate the data using
the sliders. Currently only signals with signal_dimension equal to
0, 1 and 2 can be plotted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>navigator</strong> (<em>{&#8220;auto&#8221;, None, &#8220;slider&#8221;, &#8220;spectrum&#8221;, Signal}</em>) &#8211; If &#8220;auto&#8221;, if navigation_dimension &gt; 0, a navigator is
provided to explore the data.
If navigation_dimension is 1 and the signal is an image
the navigator is a spectrum obtained by integrating
over the signal axes (the image).
If navigation_dimension is 1 and the signal is a spectrum
the navigator is an image obtained by stacking horizontally
all the spectra in the dataset.
If navigation_dimension is &gt; 1, the navigator is an image
obtained by integrating the data over the signal axes.
Additionaly, if navigation_dimension &gt; 2 a window
with one slider per axis is raised to navigate the data.
For example,
if the dataset consists of 3 navigation axes X, Y, Z and one
signal axis, E, the default navigator will be an image
obtained by integrating the data over E at the current Z
index and a window with sliders for the X, Y and Z axes
will be raised. Notice that changing the Z-axis index
changes the navigator in this case.
If &#8220;slider&#8221; and the navigation dimension &gt; 0 a window
with one slider per axis is raised to navigate the data.
If &#8220;spectrum&#8221; and navigation_dimension &gt; 0 the navigator
is always a spectrum obtained by integrating the data
over all other axes.
If None, no navigator will be provided.
Alternatively a Signal instance can be provided. The signal
dimension must be 1 (for a spectrum navigator) or 2 (for a
image navigator) and navigation_shape must be 0 (for a static
navigator) or navigation_shape + signal_shape must be equal
to the navigator_shape of the current object (for a dynamic
navigator).
If the signal dtype is RGB or RGBA this parameters has no
effect and is always &#8220;slider&#8221;.</li>
<li><strong>axes_manager</strong> (<em>{None, axes_manager}</em>) &#8211; If None <cite>axes_manager</cite> is used.</li>
<li><strong>colorbar</strong> (<em>bool, optional</em>) &#8211; If true, a colorbar is plotted for non-RGB images.</li>
<li><strong>scalebar</strong> (<em>bool, optional</em>) &#8211; If True and the units and scale of the x and y axes are the same a
scale bar is plotted.</li>
<li><strong>scalebar_color</strong> (<em>str, optional</em>) &#8211; A valid MPL color string; will be used as the scalebar color.</li>
<li><strong>axes_ticks</strong> (<em>{None, bool}, optional</em>) &#8211; If True, plot the axes ticks. If None axes_ticks are only
plotted when the scale bar is not plotted. If False the axes ticks
are never plotted.</li>
<li><strong>auto_contrast</strong> (<em>bool, optional</em>) &#8211; If True, the contrast is stretched for each image using the
<cite>saturated_pixels</cite> value. Default True.</li>
<li><strong>saturated_pixels</strong> (<em>scalar</em>) &#8211; The percentage of pixels that are left out of the bounds.
For example, the low and high bounds of a value of 1 are the 0.5%
and 99.5% percentiles. It must be in the [0, 100] range.</li>
<li><strong>vmax</strong> (<em>vmin,</em>) &#8211; <cite>vmin</cite> and <cite>vmax</cite> are used to normalize luminance data. If at
least one of them is given <cite>auto_contrast</cite> is set to False and any
missing values are calculated automatically.</li>
<li><strong>no_nans</strong> (<em>bool, optional</em>) &#8211; If True, set nans to zero for plotting.</li>
<li><strong>centre_colormap</strong> (<em>{&#8220;auto&#8221;, True, False}</em>) &#8211; If True the centre of the color scheme is set to zero. This is
specially useful when using diverging color schemes. If &#8220;auto&#8221;
(default), diverging color schemes are automatically centred.</li>
<li><strong>optional</strong> (<em>**kwargs,</em>) &#8211; <p>Additional key word arguments passed to matplotlib.imshow()</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.image.Image.to_spectrum">
<code class="descname">to_spectrum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.image.Image.to_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the image as a spectrum.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-meth docutils literal"><span class="pre">as_spectrum()</span></code></dt>
<dd>a method for the same purpose with more options.</dd>
<dt><code class="xref py py-meth docutils literal"><span class="pre">signals.Image.to_spectrum()</span></code></dt>
<dd>performs the inverse operation on images.</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.image_simulation">
<span id="hyperspy-signals-image-simulation-module"></span><h2>hyperspy._signals.image_simulation module<a class="headerlink" href="#module-hyperspy._signals.image_simulation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.image_simulation.ImageSimulation">
<em class="property">class </em><code class="descclassname">hyperspy._signals.image_simulation.</code><code class="descname">ImageSimulation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.image_simulation.ImageSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.simulation.Simulation" title="hyperspy._signals.simulation.Simulation"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.simulation.Simulation</span></code></a>, <a class="reference internal" href="#hyperspy._signals.image.Image" title="hyperspy._signals.image.Image"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.image.Image</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.pes">
<span id="hyperspy-signals-pes-module"></span><h2>hyperspy._signals.pes module<a class="headerlink" href="#module-hyperspy._signals.pes" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-hyperspy._signals.simulation">
<span id="hyperspy-signals-simulation-module"></span><h2>hyperspy._signals.simulation module<a class="headerlink" href="#module-hyperspy._signals.simulation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.simulation.Simulation">
<em class="property">class </em><code class="descclassname">hyperspy._signals.simulation.</code><code class="descname">Simulation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.simulation.Simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal"><code class="xref py py-class docutils literal"><span class="pre">hyperspy.signal.Signal</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.simulation.Simulation.add_gaussian_noise">
<code class="descname">add_gaussian_noise</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.simulation.Simulation.add_gaussian_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Gaussian noise to the data
:param std:
:type std: float</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.simulation.Simulation.add_poissonian_noise">
<code class="descname">add_poissonian_noise</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.simulation.Simulation.add_poissonian_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Poissonian noise to the data</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.spectrum">
<span id="hyperspy-signals-spectrum-module"></span><h2>hyperspy._signals.spectrum module<a class="headerlink" href="#module-hyperspy._signals.spectrum" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.spectrum.Spectrum">
<em class="property">class </em><code class="descclassname">hyperspy._signals.spectrum.</code><code class="descname">Spectrum</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.spectrum.Spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hyperspy.html#hyperspy.signal.Signal" title="hyperspy.signal.Signal"><code class="xref py py-class docutils literal"><span class="pre">hyperspy.signal.Signal</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.spectrum.Spectrum.create_model">
<code class="descname">create_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.spectrum.Spectrum.create_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a model for the current data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>model</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><cite>Model</cite> instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.spectrum.Spectrum.spikes_removal_tool">
<code class="descname">spikes_removal_tool</code><span class="sig-paren">(</span><em>signal_mask=None</em>, <em>navigation_mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.spectrum.Spectrum.spikes_removal_tool" title="Permalink to this definition">¶</a></dt>
<dd><p>Graphical interface to remove spikes from EELS spectra.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>signal_mask</strong> (<em>boolean array</em>) &#8211; Restricts the operation to the signal locations not marked
as True (masked)</li>
<li><strong>navigation_mask</strong> (<em>boolean array</em>) &#8211; Restricts the operation to the navigation locations not
marked as True (masked)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">_spikes_diagnosis()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.spectrum.Spectrum.to_image">
<code class="descname">to_image</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.spectrum.Spectrum.to_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the spectrum as an image.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-meth docutils literal"><span class="pre">as_image()</span></code></dt>
<dd>a method for the same purpose with more options.</dd>
<dt><code class="xref py py-meth docutils literal"><span class="pre">signals.Spectrum.to_image()</span></code></dt>
<dd>performs the inverse operation on images.</dd>
</dl>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">DataDimensionError: when data.ndim &lt; 2</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals.spectrum_simulation">
<span id="hyperspy-signals-spectrum-simulation-module"></span><h2>hyperspy._signals.spectrum_simulation module<a class="headerlink" href="#module-hyperspy._signals.spectrum_simulation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy._signals.spectrum_simulation.SpectrumSimulation">
<em class="property">class </em><code class="descclassname">hyperspy._signals.spectrum_simulation.</code><code class="descname">SpectrumSimulation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.spectrum_simulation.SpectrumSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.simulation.Simulation" title="hyperspy._signals.simulation.Simulation"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.simulation.Simulation</span></code></a>, <a class="reference internal" href="#hyperspy._signals.spectrum.Spectrum" title="hyperspy._signals.spectrum.Spectrum"><code class="xref py py-class docutils literal"><span class="pre">hyperspy._signals.spectrum.Spectrum</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-hyperspy._signals">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-hyperspy._signals" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2015, The HyperSpy development team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.8.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/copybutton.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>